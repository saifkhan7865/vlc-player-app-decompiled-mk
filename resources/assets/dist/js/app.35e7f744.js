(function(){var e={6800:function(e,t,i){"use strict";i.d(t,{Z:function(){return uc}});var s=i(9242),a=i(3396),l=i(7139);const o={class:"main-loading"},n={class:"spinner-border text-primary",role:"status"},r={class:"visually-hidden"};function d(e,t,i,d,c,p){const u=(0,a.up)("AppHeader"),m=(0,a.up)("router-view"),g=(0,a.up)("PlayQueue"),h=(0,a.up)("MediaInfo"),y=(0,a.up)("MiniPlayer"),w=(0,a.up)("Alert"),f=(0,a.up)("AddStream"),v=(0,a.up)("Remote"),b=(0,a.up)("UploadDialog"),_=(0,a.up)("AddPlaylistDialog"),k=(0,a.Q2)("t");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(u,{onSendFiles:p.sendFiles},null,8,["onSendFiles"]),(0,a._)("main",{class:(0,l.C_)([this.playerStore.playing?"footer-bottom-margin":"","flex1"])},[(0,a.Wm)(m)],2),(0,a.Wm)(g),(0,a.Wm)(h),(0,a.Wm)(y,{ref:"miniPlayer"},null,512),(0,a.Wm)(w),(0,a.Wm)(f),(0,a.Wm)(v),(0,a.Wm)(b,{ref:"uploadComponent"},null,512),(0,a.Wm)(_,{ref:"addPlaylistComponent"},null,512),(0,a.wy)((0,a._)("div",o,[(0,a._)("div",n,[(0,a.wy)((0,a._)("span",r,null,512),[[k,"LOADING"]])])],512),[[s.F8,this.appStore.loading]])],64)}i(7658);const c={class:"navbar navbar-light navbar-expand-md shadow-sm sticky-top align-items-center container-fluid main-navbar"},p={class:"flex1-collapsible"},u=["src"],m={class:"d-flex justify-content-center nav-collapsed collapsed"},g={class:"text-primary nav-main-title"},h={class:"dropdown dropstart nav-collapsed"},y={class:"dropdown-menu dropdown-menu-start"},w={class:"nav-button d-flex btn btn-lg medium"},f=["src"],v={class:"collapsed-menu-text"},b={class:"nav-button d-flex btn btn-lg medium"},_=["src"],k={class:"collapsed-menu-text"},S={class:"nav-button d-flex btn btn-lg medium"},$=["src"],T={class:"collapsed-menu-text"},D={class:"nav-button d-flex btn btn-lg medium"},I=["src"],E={class:"collapsed-menu-text"},x={class:"nav-button d-flex btn btn-lg medium"},A=["src"],C={class:"collapsed-menu-text"},P=(0,a._)("li",null,[(0,a._)("hr",{class:"dropdown-divider"})],-1),L={class:"nav-button d-flex btn btn-lg medium"},M=["src"],O={class:"collapsed-menu-text"},R={class:"nav-button d-flex btn btn-lg medium"},B=["src"],F={class:"collapsed-menu-text"},W=(0,a._)("li",null,[(0,a._)("hr",{class:"dropdown-divider"})],-1),N=["src"],H={class:"collapsed-menu-text"},Y=["src"],K={class:"collapsed-menu-text"},V=["src"],q={class:"collapsed-menu-text"},G={class:"d-flex justify-content-center nav-collapsible"},j={class:"btn btn-lg nav-button medium"},U=["src"],z={class:"btn btn-lg nav-button medium"},Q=["src"],Z={class:"btn btn-lg nav-button medium"},J=["src"],X={class:"btn btn-lg nav-button medium"},ee=["src"],te={class:"btn btn-lg nav-button medium"},ie=["src"],se={class:"d-flex flex1 justify-content-end nav-collapsible"},ae={class:"dropdown dropstart"},le={class:"dropdown-menu nav-dropdown"},oe={class:"nav-button d-flex btn btn-lg medium"},ne=["src"],re={class:"collapsed-menu-text"},de=(0,a._)("li",null,[(0,a._)("hr",{class:"dropdown-divider"})],-1),ce=["src"],pe={class:"collapsed-menu-text"},ue=["src"],me={class:"collapsed-menu-text"},ge=["src"],he={class:"collapsed-menu-text"},ye={class:"nav-button d-flex btn btn-lg medium"},we=["src"],fe={class:"collapsed-menu-text"},ve={class:"navtabs-container border-bottom"},be={class:"flex1 d-flex align-items-center"},_e={class:"dropdown"},ke={class:"btn btn-lg image-button hidden-arrow",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},Se=["src"],$e={class:"dropdown-menu dropdown-menu-start"},Te={class:"nav justify-content-center navtabs"},De={class:"nav-item"},Ie={class:"nav-item"},Ee={class:"nav-item"},xe={class:"nav-item"},Ae={key:0,class:"d-flex align-items-center"},Ce={"aria-label":"breadcrumb"},Pe={class:"breadcrumb"},Le=["onClick"],Me={key:1,class:"d-flex align-items-center"},Oe={class:"text-primary breadcrumb"},Re=["src"],Be={class:"breadcrumb-content-item"},Fe={class:"flex1 d-flex justify-content-end align-items-center"},We=["title"],Ne=["src"],He=["title"],Ye=["src"];function Ke(e,t,i,o,n,r){const d=(0,a.up)("RouterLink"),Ke=(0,a.up)("ImageButton"),Ve=(0,a.Q2)("t"),qe=(0,a.Q2)("tooltip");return(0,a.wg)(),(0,a.iD)("nav",c,[(0,a._)("div",p,[(0,a.Wm)(d,{to:{name:"VideoList"}},{default:(0,a.w5)((()=>[(0,a._)("img",{id:"logo",src:e.$getAppAsset(e.$getIcons().vlcIcon,48,!0),width:"48",onClick:t[0]||(t[0]=e=>r.iconClick()),class:(0,l.C_)(this.clicked>2&&this.clicked%2==1?"animate":"")},null,10,u)])),_:1})]),(0,a._)("div",m,[(0,a._)("p",g,(0,l.zw)(r.getRouteName()),1)]),(0,a._)("div",h,[(0,a.Wm)(Ke,{type:"menu","data-bs-toggle":"dropdown","aria-expanded":"false"}),(0,a._)("ul",y,[(0,a._)("li",null,[(0,a.Wm)(d,{to:{name:"VideoList"}},{default:(0,a.w5)((()=>[(0,a._)("div",w,[(0,a._)("img",{class:"nav-button",src:e.$getAppAsset(e.$getIcons().videoIcon)},null,8,f),(0,a.wy)((0,a._)("p",v,null,512),[[Ve,"VIDEO"]])])])),_:1}),(0,a.Wm)(d,{to:{name:"AudioArtists"}},{default:(0,a.w5)((()=>[(0,a._)("div",b,[(0,a._)("img",{src:e.$getAppAsset(e.$getIcons().audioIcon)},null,8,_),(0,a.wy)((0,a._)("p",k,null,512),[[Ve,"AUDIO"]])])])),_:1}),(0,a.Wm)(d,{to:{name:"BrowseList"}},{default:(0,a.w5)((()=>[(0,a._)("div",S,[(0,a._)("img",{src:e.$getAppAsset(e.$getIcons().folderIcon)},null,8,$),(0,a.wy)((0,a._)("p",T,null,512),[[Ve,"BROWSE"]])])])),_:1}),(0,a.Wm)(d,{to:{name:"PlaylistList"}},{default:(0,a.w5)((()=>[(0,a._)("div",D,[(0,a._)("img",{src:e.$getAppAsset(e.$getIcons().playlistIcon)},null,8,I),(0,a.wy)((0,a._)("p",E,null,512),[[Ve,"PLAYLISTS"]])])])),_:1}),(0,a.Wm)(d,{to:{name:"More"}},{default:(0,a.w5)((()=>[(0,a._)("div",x,[(0,a._)("img",{src:e.$getAppAsset(e.$getIcons().moreIcon)},null,8,A),(0,a.wy)((0,a._)("p",C,null,512),[[Ve,"MORE"]])])])),_:1})]),P,(0,a._)("li",null,[(0,a.Wm)(d,{to:{name:"SearchList"}},{default:(0,a.w5)((()=>[(0,a._)("div",L,[(0,a._)("img",{src:"./icons/search.svg"},null,8,M),(0,a.wy)((0,a._)("p",O,null,512),[[Ve,"SEARCH"]])])])),_:1})]),(0,a._)("li",null,[(0,a.Wm)(d,{to:{name:"Logs"}},{default:(0,a.w5)((()=>[(0,a._)("div",R,[(0,a._)("img",{src:"./icons/crash.svg"},null,8,B),(0,a.wy)((0,a._)("p",F,null,512),[[Ve,"LOG_FILE"]])])])),_:1})]),W,(0,a._)("li",null,[(0,a._)("div",{class:"nav-button d-flex btn btn-lg medium",onClick:t[1]||(t[1]=e=>this.$emit("send-files"))},[(0,a._)("img",{src:"./icons/file_upload.svg"},null,8,N),(0,a.wy)((0,a._)("p",H,null,512),[[Ve,"SEND_FILES"]])])]),(0,a._)("li",null,[(0,a._)("div",{class:"nav-button d-flex btn btn-lg medium",onClick:t[2]||(t[2]=(...e)=>r.changeTheme&&r.changeTheme(...e))},[(0,a.wy)((0,a._)("img",{src:"./icons/dark_mode.svg"},null,8,Y),[[s.F8,!this.appStore.darkTheme]]),(0,a.wy)((0,a._)("p",K,null,512),[[Ve,"DARK_THEME"],[s.F8,!this.appStore.darkTheme]]),(0,a.wy)((0,a._)("img",{src:"./icons/light_mode.svg"},null,8,V),[[s.F8,this.appStore.darkTheme]]),(0,a.wy)((0,a._)("p",q,null,512),[[Ve,"LIGHT_THEME"],[s.F8,this.appStore.darkTheme]])])])])]),(0,a._)("div",G,[(0,a.Wm)(d,{to:{name:"VideoList"}},{default:(0,a.w5)((()=>[(0,a._)("button",j,[(0,a._)("img",{src:e.$getAppAsset(e.$getIcons().videoIcon)},null,8,U),(0,a.wy)((0,a._)("p",null,null,512),[[Ve,"VIDEO"]])])])),_:1}),(0,a.Wm)(d,{to:{name:"AudioArtists"}},{default:(0,a.w5)((()=>[(0,a._)("button",z,[(0,a._)("img",{src:e.$getAppAsset(e.$getIcons().audioIcon)},null,8,Q),(0,a.wy)((0,a._)("p",null,null,512),[[Ve,"AUDIO"]])])])),_:1}),(0,a.Wm)(d,{to:{name:"BrowseList"}},{default:(0,a.w5)((()=>[(0,a._)("button",Z,[(0,a._)("img",{src:e.$getAppAsset(e.$getIcons().folderIcon)},null,8,J),(0,a.wy)((0,a._)("p",null,null,512),[[Ve,"BROWSE"]])])])),_:1}),(0,a.Wm)(d,{to:{name:"PlaylistList"}},{default:(0,a.w5)((()=>[(0,a._)("button",X,[(0,a._)("img",{src:e.$getAppAsset(e.$getIcons().playlistIcon)},null,8,ee),(0,a.wy)((0,a._)("p",null,null,512),[[Ve,"PLAYLISTS"]])])])),_:1}),(0,a.Wm)(d,{to:{name:"More"}},{default:(0,a.w5)((()=>[(0,a._)("button",te,[(0,a._)("img",{src:e.$getAppAsset(e.$getIcons().moreIcon)},null,8,ie),(0,a.wy)((0,a._)("p",null,null,512),[[Ve,"MORE"]])])])),_:1})]),(0,a._)("div",se,[(0,a.wy)((0,a.Wm)(Ke,{type:"cloud_off",class:"blink",onClick:(0,s.iM)(r.disconnectedClicked,["stop"]),"data-bs-placement":"bottom",title:e.$t("DISCONNECTED")},null,8,["onClick","title"]),[[s.F8,!e.appStore.socketOpened],[qe]]),(0,a.Wm)(d,{to:{name:"SearchList"}},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(Ke,{type:"search","data-bs-placement":"bottom",title:e.$t("SEARCH")},null,8,["title"]),[[qe]])])),_:1}),(0,a._)("div",ae,[(0,a.Wm)(Ke,{type:"more_vert","data-bs-toggle":"dropdown","aria-expanded":"false"}),(0,a._)("ul",le,[(0,a._)("li",null,[(0,a.Wm)(d,{to:{name:"Logs"}},{default:(0,a.w5)((()=>[(0,a._)("div",oe,[(0,a._)("img",{src:"./icons/crash.svg"},null,8,ne),(0,a.wy)((0,a._)("p",re,null,512),[[Ve,"LOG_FILE"]])])])),_:1})]),de,(0,a._)("li",null,[(0,a._)("div",{class:"nav-button d-flex btn btn-lg medium",onClick:t[3]||(t[3]=e=>this.$emit("send-files"))},[(0,a._)("img",{src:"./icons/file_upload.svg"},null,8,ce),(0,a.wy)((0,a._)("p",pe,null,512),[[Ve,"SEND_FILES"]])])]),(0,a._)("li",null,[(0,a._)("div",{class:"nav-button d-flex btn btn-lg medium",onClick:t[4]||(t[4]=(...e)=>r.changeTheme&&r.changeTheme(...e))},[(0,a.wy)((0,a._)("img",{src:"./icons/dark_mode.svg"},null,8,ue),[[s.F8,!this.appStore.darkTheme]]),(0,a.wy)((0,a._)("p",me,null,512),[[Ve,"DARK_THEME"],[s.F8,!this.appStore.darkTheme]]),(0,a.wy)((0,a._)("img",{src:"./icons/light_mode.svg"},null,8,ge),[[s.F8,this.appStore.darkTheme]]),(0,a.wy)((0,a._)("p",he,null,512),[[Ve,"LIGHT_THEME"],[s.F8,this.appStore.darkTheme]])])]),(0,a._)("li",null,[(0,a.Wm)(d,{to:{name:"About"}},{default:(0,a.w5)((()=>[(0,a._)("div",ye,[(0,a._)("img",{src:"./icons/info.svg"},null,8,we),(0,a.wy)((0,a._)("p",fe,null,512),[[Ve,"ABOUT"]])])])),_:1})])])])]),(0,a.wy)((0,a._)("div",ve,[(0,a._)("div",be,[(0,a.wy)((0,a.Wm)(Ke,{type:"grid_view",onClick:t[5]||(t[5]=(0,s.iM)((e=>this.appStore.toggleDisplayType(this.$route.name)),["stop"])),"data-bs-placement":"bottom",title:e.$t("DISPLAY_GRID")},null,8,["title"]),[[s.F8,this.appStore.displayType[this.$route.name]],[qe]]),(0,a.wy)((0,a.Wm)(Ke,{type:"view_list",onClick:t[6]||(t[6]=(0,s.iM)((e=>this.appStore.toggleDisplayType(this.$route.name)),["stop"])),"data-bs-placement":"bottom",title:e.$t("DISPLAY_LIST")},null,8,["title"]),[[s.F8,!this.appStore.displayType[this.$route.name]],[qe]]),(0,a.wy)((0,a._)("div",_e,[(0,a._)("button",ke,[(0,a._)("img",{class:"image-button-image",src:e.$getAppAsset(e.$getIcons().groupIcon,24)},null,8,Se)]),(0,a._)("ul",$e,[(0,a._)("li",null,[(0,a.wy)((0,a._)("a",{class:(0,l.C_)(["dropdown-item cursor-pointer",r.isActive(0)?"active":""]),onClick:t[7]||(t[7]=e=>this.appStore.changeGrouping(0))},null,2),[[Ve,"VIDEO_GROUP_NONE"]])]),(0,a._)("li",null,[(0,a.wy)((0,a._)("a",{class:(0,l.C_)(["dropdown-item cursor-pointer",r.isActive(1)?"active":""]),onClick:t[8]||(t[8]=e=>this.appStore.changeGrouping(1))},null,2),[[Ve,"VIDEO_GROUP_BY_FOLDER"]])]),(0,a._)("li",null,[(0,a.wy)((0,a._)("a",{class:(0,l.C_)(["dropdown-item cursor-pointer",r.isActive(2)?"active":""]),onClick:t[9]||(t[9]=e=>this.appStore.changeGrouping(2))},null,2),[[Ve,"VIDEO_GROUP_BY_NAME"]])])])],512),[[s.F8,this.$route.meta.showGrouping]])]),(0,a._)("ul",Te,[(0,a._)("li",De,[(0,a.wy)((0,a.Wm)(d,{class:(0,l.C_)(["nav-link","AudioArtists"==this.$route.name?"active text-primary":""]),to:{name:"AudioArtists"}},null,8,["class"]),[[s.F8,this.$route.meta.isAudio],[Ve,"ARTISTS"]])]),(0,a._)("li",Ie,[(0,a.wy)((0,a.Wm)(d,{class:(0,l.C_)(["nav-link","AudioAlbums"==this.$route.name?"active text-primary":""]),to:{name:"AudioAlbums"}},null,8,["class"]),[[s.F8,this.$route.meta.isAudio],[Ve,"ALBUMS"]])]),(0,a._)("li",Ee,[(0,a.wy)((0,a.Wm)(d,{class:(0,l.C_)(["nav-link","AudioTracks"==this.$route.name?"active text-primary":""]),to:{name:"AudioTracks"}},null,8,["class"]),[[s.F8,this.$route.meta.isAudio],[Ve,"TRACKS"]])]),(0,a._)("li",xe,[(0,a.wy)((0,a.Wm)(d,{class:(0,l.C_)(["nav-link","AudioGenres"==this.$route.name?"active text-primary":""]),to:{name:"AudioGenres"}},null,8,["class"]),[[s.F8,this.$route.meta.isAudio],[Ve,"GENRES"]])])]),this.hasBreadcrumb()?((0,a.wg)(),(0,a.iD)("div",Ae,[(0,a._)("nav",Ce,[(0,a._)("ol",Pe,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(this.browserStore.breadcrumb,(e=>((0,a.wg)(),(0,a.iD)("li",{class:(0,l.C_)(["breadcrumb-item",e.path==this.$route.params.browseId?"":"text-primary clickable"]),key:e.path,onClick:t=>r.manageClick(e)},(0,l.zw)(e.title),11,Le)))),128))])])])):this.getTitle()&&e.$route.meta.icon?((0,a.wg)(),(0,a.iD)("div",Me,[(0,a._)("div",Oe,[(0,a._)("img",{src:e.$getAppAsset(e.$route.meta.icon)},null,8,Re),(0,a.Uk)(),(0,a._)("span",Be,(0,l.zw)(this.getTitle()),1)])])):(0,a.kq)("",!0),(0,a._)("div",Fe,[(0,a.wy)(((0,a.wg)(),(0,a.iD)("button",{class:"btn btn-lg image-button",onClick:t[10]||(t[10]=(0,s.iM)((t=>e.$playAll(this.$route)),["stop"])),"data-bs-placement":"bottom",title:e.$t("PLAY_ALL")},[(0,a._)("img",{class:"image-button-image",src:e.$getAppAsset(e.$getIcons().playAllIcon,24)},null,8,Ne)],8,We)),[[s.F8,this.$route.meta.showFAB],[qe]]),(0,a.wy)(((0,a.wg)(),(0,a.iD)("button",{class:"btn btn-lg image-button",onClick:t[11]||(t[11]=(0,s.iM)((t=>e.$resumePlayback(this.$route.meta.isAudio)),["stop"])),"data-bs-placement":"bottom",title:e.$t("RESUME_PLAYBACK")},[(0,a._)("img",{class:"image-button-image",src:e.$getAppAsset(e.$getIcons().resumePlaybackIcon,24)},null,8,Ye)],8,He)),[[s.F8,this.$route.meta.showResume],[qe]])])],512),[[s.F8,this.$route.meta.showDisplayBar]])])}var Ve=i(1020),qe=i(4870),Ge=i(466);const je=(0,Ve.Q_)("app",{state:()=>({loading:!1,wsTicket:"",displayType:(0,qe.qj)((0,Ge._aR)("displayType",{})),videoGrouping:(0,qe.qj)((0,Ge._aR)("videoGrouping",0)),warning:Object,socketOpened:!0,showAddStream:!1,needRefresh:!1,needRefreshPlaylist:!1,darkTheme:(0,qe.qj)((0,Ge._aR)("darkTheme",!1)),title:""}),getters:{},actions:{toggleDisplayType(e){this.displayType[e]=!this.displayType[e]},changeGrouping(e){this.videoGrouping=e}}}),Ue=(0,Ve.Q_)("browser",{state:()=>({breadcrumb:[],descriptions:(0,qe.qj)([])}),getters:{},actions:{}}),ze=["src"];function Qe(e,t,i,s,l,o){return(0,a.wg)(),(0,a.iD)("div",(0,a.dG)({class:["btn btn-lg image-button",i.selected?"selected":""]},e.$attrs),[(0,a._)("img",{class:"image-button-image selected",src:`./icons/${this.type}.svg`},null,8,ze)],16)}var Ze={props:{type:String,selected:Boolean}},Je=i(89);const Xe=(0,Je.Z)(Ze,[["render",Qe]]);var et=Xe,tt={components:{ImageButton:et},data(){return{clicked:0}},methods:{disconnectedClicked(){this.$root.startWebSocket()},manageClick(e){""==e.path||"root"==e.path?this.$router.push({name:"BrowseList"}):this.$router.push({name:"BrowseChild",params:{browseId:e.path}})},hasBreadcrumb(){return 0!=this.browserStore.breadcrumb.length},getTitle(){return this.appStore.title},isActive(e){return this.appStore.videoGrouping==e},changeTheme(){this.appStore.darkTheme=!this.appStore.darkTheme},iconClick(){this.clicked++},getRouteName(){if(!this.$route.matched[0])return"";switch(this.$route.matched[0].name){case"Video":return this.$t("VIDEO");case"AudioArtists":return this.$t("AUDIO");case"Browse":return this.$t("BROWSE");case"Playlist":return this.$t("PLAYLISTS");case"SearchList":return this.$t("SEARCH");case"Logs":return this.$t("LOG_FILE");default:return""}}},computed:{...(0,Ve.Kc)(je),...(0,Ve.Kc)(Ue)}};const it=(0,Je.Z)(tt,[["render",Ke]]);var st=it;const at={class:"progress-container"},lt={id:"time"},ot={id:"duration"},nt=["max"],rt={id:"player_content",class:"row"},dt={class:"player-info"},ct={id:"title",class:"h6 text-truncate"},pt={id:"artist",class:"text-truncate"},ut=["src"],mt={class:"player_controls player-inner-content col-12 col-md"},gt=(0,a._)("span",{class:"flex1"},null,-1),ht=(0,a._)("span",{class:"flex1"},null,-1),yt={class:"player_right player-inner-content col-12 col-md"},wt={class:"player-right-container playqueue-container"},ft={class:"player-right-container volume-container"},vt=(0,a._)("div",{class:"playing"},[(0,a._)("span",{class:"playing-bar playing-bar1"}),(0,a._)("span",{class:"playing-bar playing-bar2"}),(0,a._)("span",{class:"playing-bar playing-bar3"})],-1),bt=[vt];function _t(e,t,i,o,n,r){const d=(0,a.up)("ImageButton"),c=(0,a.Q2)("tooltip");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.wy)((0,a._)("div",{class:(0,l.C_)(["footer",this.playerStore.responsivePlayerShowing?"footer force-show":"footer"]),id:"player",onWheel:t[22]||(t[22]=(0,s.iM)((()=>{}),["prevent"])),onScroll:t[23]||(t[23]=(0,s.iM)((()=>{}),["prevent"]))},[(0,a._)("div",at,[(0,a._)("p",lt,(0,l.zw)(e.$readableDuration(new Date(this.playerStore.nowPlaying.progress))),1),(0,a._)("p",ot,(0,l.zw)(e.$readableDuration(new Date(this.playerStore.nowPlaying.duration))),1),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(this.playerStore.nowPlaying.bookmarks,(e=>(0,a.wy)(((0,a.wg)(),(0,a.j4)(d,{key:e.time,type:"bookmark",class:"bookmark",style:(0,l.j5)(this.getBookmarkLeft(e)),onClick:(0,s.iM)((t=>r.seek(e.time)),["stop"]),"data-bs-placement":"bottom",title:e.title},null,8,["style","onClick","title"])),[[c]]))),128)),(0,a._)("input",{type:"range",ref:"progress",min:"0",max:this.playerStore.nowPlaying.duration,class:"player-progress",step:"1",onChange:t[0]||(t[0]=e=>this.progressChange(e)),onInput:t[1]||(t[1]=e=>this.progressChange(e)),onTouchstart:t[2]||(t[2]=e=>this.progressTouched=!0),onTouchend:t[3]||(t[3]=e=>this.progressTouched=!1),onTouchcancel:t[4]||(t[4]=e=>this.progressTouched=!1)},null,40,nt)]),(0,a._)("div",rt,[(0,a._)("div",{class:"col-12 col-md player-inner-content",id:"media_info",onClick:t[5]||(t[5]=(0,s.iM)((e=>r.toggleMediaInfo(e)),["stop"]))},[(0,a._)("img",{ref:"playerArtwork",class:(0,l.C_)(["player-artwork",this.playerStore.nowPlaying.isVideoPlaying?"video":""])},null,2),(0,a._)("div",dt,[(0,a._)("p",ct,(0,l.zw)(this.playerStore.nowPlaying.title),1),(0,a._)("p",pt,(0,l.zw)(this.playerStore.nowPlaying.artist),1)]),(0,a._)("img",{src:"./icons/info.svg",class:"badge-image"},null,8,ut)]),(0,a._)("div",mt,[gt,(0,a.Wm)(d,{type:"shuffle",id:"player_shuffle",ref:"shuffle",onClick:t[6]||(t[6]=e=>r.shuffle()),class:(0,l.C_)(this.playerStore.nowPlaying.shuffle?"active":"")},null,8,["class"]),(0,a.Wm)(d,{type:"skip_previous",id:"player_previous",ref:"previous",onClick:t[7]||(t[7]=e=>r.previous())},null,512),(0,a.Wm)(d,{type:"replay_10",id:"player_previous_10",ref:"previous10",onClick:t[8]||(t[8]=e=>r.previous10())},null,512),(0,a.wy)((0,a.Wm)(d,{type:"play_circle",class:"big",id:"player_play",ref:"play",onClick:t[9]||(t[9]=e=>r.play())},null,512),[[s.F8,!this.playerStore.nowPlaying.playing]]),(0,a.wy)((0,a.Wm)(d,{type:"pause_circle",class:"big",id:"player_pause",ref:"pause",onClick:t[10]||(t[10]=e=>r.pause())},null,512),[[s.F8,this.playerStore.nowPlaying.playing]]),(0,a.Wm)(d,{type:"forward_10",id:"player_next_10",ref:"next10",onClick:t[11]||(t[11]=e=>r.next10())},null,512),(0,a.Wm)(d,{type:"skip_next",id:"player_next",ref:"next",onClick:t[12]||(t[12]=e=>r.next())},null,512),(0,a.Wm)(d,{id:"player_repeat",ref:"repeat",onClick:t[13]||(t[13]=(0,s.iM)((e=>r.repeat()),["stop"])),type:1!=this.playerStore.nowPlaying.repeat?"repeat":"repeat_one",class:(0,l.C_)(0!=this.playerStore.nowPlaying.repeat?"active":"")},null,8,["type","class"]),ht]),(0,a._)("div",yt,[(0,a._)("div",wt,[(0,a.Wm)(d,{type:"queue_music",class:(0,l.C_)(["medium",this.playerStore.playqueueShowing?"active":""]),id:"playqueue",selected:this.playerStore.playqueueShowing,ref:"playqueueButton",onClick:t[14]||(t[14]=(0,s.iM)((e=>r.togglePlayQueue(e)),["stop"]))},null,8,["selected","class"])]),(0,a._)("div",ft,[(0,a.wy)((0,a.Wm)(d,{type:"volume",class:"medium",id:"volume_icon",onClick:t[15]||(t[15]=e=>r.mute())},null,512),[[s.F8,0!=this.playerStore.volume]]),(0,a.wy)((0,a.Wm)(d,{type:"volume_off",class:"medium",id:"volume_icon",onClick:t[16]||(t[16]=e=>r.mute())},null,512),[[s.F8,0==this.playerStore.volume]]),(0,a._)("input",{type:"range",ref:"volume",min:"0",max:"100",step:"1",onChange:t[17]||(t[17]=e=>this.volumeChange(e)),onInput:t[18]||(t[18]=e=>this.volumeChange(e)),onTouchstart:t[19]||(t[19]=e=>this.volumeTouched=!0),onTouchend:t[20]||(t[20]=e=>this.volumeTouched=!1),onTouchcancel:t[21]||(t[21]=e=>this.volumeTouched=!1)},null,544)])])])],34),[[s.F8,this.playerStore.playing]]),(0,a.wy)((0,a._)("div",{class:"mini-player-fab",onClick:t[24]||(t[24]=(0,s.iM)((e=>r.showResponsivePlayer()),["stop"]))},bt,512),[[s.F8,!this.playerStore.responsivePlayerShowing&&this.playerStore.playing]])],64)}const kt=(0,Ve.Q_)("player",{state:()=>({playing:!1,nowPlaying:Object,playqueueData:Object,playqueueShowing:!1,mediaInfoShowing:!1,playQueueEdit:!1,responsivePlayerShowing:!1,showRemote:!1,volume:0}),getters:{},actions:{togglePlayQueueEdit(){this.playQueueEdit=!this.playQueueEdit}}}),St="android",$t="true"==={VUE_APP_VLC_PORT:"android",NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_FORCE_SSL||"https:"===location.protocol;let Tt="8080";$t&&(Tt="8443");const Dt=`${location.host}`;let It;It=$t?`https://${Dt}/`:`http://${Dt}/`;let Et="wss";$t||(Et="ws");const xt={desktop:500,android:500},At={pollingInterval:xt[St]||500,translation:`${It}translation`,code:`${It}code`,secureUrl:`${It}secure-url`,sendLogs:`${It}logs`,verifyCode:`${It}verify-code`,websocket:`${Et}://${Dt}/echo`,websocketAuthTicket:`${It}wsticket`,uploadMedia:`${It}upload-media`,videoList:(e,t,i)=>{var s="";t&&(s=`&group=${t}`);var a="";return i&&(a=`&folder=${i}`),`${It}video-list?grouping=${e}${s}${a}`},artistList:`${It}artist-list`,albumList:`${It}album-list`,trackList:`${It}track-list`,genreList:`${It}genre-list`,artistDetails:e=>`${It}artist?id=${e}`,albumDetails:e=>`${It}album?id=${e}`,genreDetails:e=>`${It}genre?id=${e}`,playlistDetails:e=>`${It}playlist?id=${e}`,playlistList:`${It}playlist-list`,createPlaylist:`${It}playlist-create`,addToPlaylist:`${It}playlist-add`,favoriteList:`${It}favorite-list`,history:`${It}history`,streamList:`${It}stream-list`,storageList:`${It}storage-list`,networkList:`${It}network-list`,logfileList:`${It}logfile-list`,browseList:e=>`${It}browse-list?path=${e}`,appAsset:(e,t,i)=>{const s={};return e&&(s.id=e),t&&(s.width=t),i&&(s.preventTint=i),`${It}icon?${new URLSearchParams(s).toString()}`},artwork:(e,t,i,s)=>{const a={};return e&&(a.artwork=e),t&&(a.id=t),i&&(a.type=i),s&&(a.randomizer=s),`${It}artwork?${new URLSearchParams(a).toString()}`},prepareDownload:(e,t)=>{const i={};return e&&(i.id=e),t&&(i.type=t),`${It}prepare-download?${new URLSearchParams(i).toString()}`},search:e=>`${It}search?search=${e}`,download:e=>`${It}download?file=${e}`,favorite:(e,t,i)=>{const s={};return e&&(s.id=e),t&&(s.type=t),s.favorite=i,`${It}favorite?${new URLSearchParams(s).toString()}`},play:(e,t,i,s)=>{const a={};return e.id&&(a.id=e.id),e.path&&(a.path=e.path),i&&(a.append=i),s&&(a.audio=s),t&&(a.type=t),`${It}play?${new URLSearchParams(a).toString()}`},playAll:(e,t,i)=>{const s={};return e&&(s.type=e),t&&(s.id=t),""!=i&&(s.path=i),`${It}play-all?${new URLSearchParams(s).toString()}`},resumePlayback:e=>{const t={};return e&&(t.audio=e),`${It}resume-playback?${new URLSearchParams(t).toString()}`},downloadLog:`${It}download-logfile?file=`,playbackEvent:(e,t,i,s)=>{const a={};return e&&(a.message=e),(t||"0"==t)&&(a.id=t),i&&(a.floatValue=i),s&&(a.authTicket=s),`${It}playback-event?${new URLSearchParams(a).toString()}`},longPolling:`${It}longpolling`};var Ct={components:{ImageButton:et},data(){return{playing:!1,loadedArtworkUrl:"",volumeTouched:!1,progressTouched:!1,volumeTimeoutId:0,oldVolume:-1}},computed:{...(0,Ve.Kc)(kt),...(0,Ve.rn)(kt,["nowPlaying"])},methods:{changeVolumeIfNeeded(){this.updateVolumeBackground(),this.$refs.volume.matches(":hover")||this.volumeTouched||(this.$refs.volume.value!=this.nowPlaying.volume&&(this.$refs.volume.value=this.nowPlaying.volume),this.updateVolumeBackground())},mute(){0==this.$refs.volume.value?-1==this.oldVolume?(this.$root.sendMessage("set-volume",this.$refs.volume.max/2),this.$refs.volume.value=this.$refs.volume.max/2):(this.$root.sendMessage("set-volume",this.oldVolume),this.$refs.volume.value=this.oldVolume):(this.oldVolume=this.$refs.volume.value,this.$root.sendMessage("set-volume",0),this.$refs.volume.value=0),this.updateVolumeBackground()},changeProgressIfNeeded(){this.updateProgressBackground(),this.$refs.progress.matches(":hover")||this.volumeTouched||(this.$refs.progress.value!=this.nowPlaying.progress&&(this.$refs.progress.value=this.nowPlaying.progress),this.updateProgressBackground())},updateVolumeBackground(){let e=this.$refs.volume;const t=e.min,i=e.max,s=e.value;this.playerStore.volume=this.$refs.volume.value,e.style.backgroundSize=100*(s-t)/(i-t)+"% 100%"},updateProgressBackground(){let e=this.$refs.progress;const t=e.min,i=e.max,s=e.value;e.style.backgroundSize=100*(s-t)/(i-t)+"% 100%"},play(){this.$root.sendMessage("play"),this.$log.log("Sending play")},pause(){this.$root.sendMessage("pause"),this.$log.log("Sending pause")},previous(){this.$root.sendMessage("previous"),this.$log.log("Sending previous")},next(){this.$root.sendMessage("next"),this.$log.log("Sending next")},shuffle(){this.nowPlaying.shuffle=!this.nowPlaying.shuffle,this.$root.sendMessage("shuffle"),this.$log.log("Sending shuffle")},repeat(){let e=this.nowPlaying.repeat+1;e>2&&(e=0),this.nowPlaying.repeat=e,this.$root.sendMessage("repeat"),this.$log.log("Sending repeat")},previous10(){this.$root.sendMessage("previous10"),this.$log.log("Sending previous10")},next10(){this.$root.sendMessage("next10"),this.$log.log("Sending next10")},volumeChange(e){clearTimeout(this.volumeTimeoutId),this.updateVolumeBackground(),this.volumeTimeoutId=setTimeout((()=>{this.updateVolumeBackground(),this.$root.sendMessage("set-volume",e.target.value),this.changeVolumeIfNeeded()}),"50"),this.playerStore.volume=e.target.value},progressChange(e){this.updateProgressBackground(),this.$root.sendMessage("set-progress",e.target.value),this.changeProgressIfNeeded()},seek(e){this.updateProgressBackground(),this.$root.sendMessage("set-progress",e),this.changeProgressIfNeeded()},togglePlayQueue(){this.playerStore.playqueueShowing=!this.playerStore.playqueueShowing},toggleMediaInfo(){this.playerStore.mediaInfoShowing=!this.playerStore.mediaInfoShowing},showResponsivePlayer(){this.playerStore.playqueueShowing=!this.playerStore.playqueueShowing,this.playerStore.responsivePlayerShowing=!this.responsivePlayerShowing},getBookmarkLeft(e){return`left: calc(${e.time/this.playerStore.nowPlaying.duration*100}% - 28px)`}},watch:{nowPlaying(){this.changeVolumeIfNeeded(),this.changeProgressIfNeeded(),this.loadedArtworkUrl!=this.nowPlaying.uri&&(this.loadedArtworkUrl=this.nowPlaying.uri,this.$refs.playerArtwork.src=At.artwork(null,null,null,Date.now()))}}};const Pt=(0,Je.Z)(Ct,[["render",_t]]);var Lt=Pt;const Mt={id:"media_info_large"},Ot={class:"d-flex border-bottom media-info-toolbar"},Rt=(0,a._)("div",{class:"flex1"}," ",-1),Bt={class:"media-info-items"},Ft={class:"media-info-text flex1"},Wt={key:0,class:"media-info-text"},Nt={class:"btn btn-primary"},Ht={key:0,class:"card mt-2",ref:"sleepForm"},Yt={class:"card-body"},Kt={class:"m-2"},Vt={class:"d-flex gap-2 m-2 align-items-center"},qt={class:"dropdown media-info-text"},Gt={class:"btn btn-primary dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},jt={class:"dropdown-menu scrollable-menu"},Ut=["onClick"],zt={class:"dropdown media-info-text"},Qt={class:"btn btn-primary dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},Zt={class:"dropdown-menu scrollable-menu"},Jt=["onClick"],Xt={class:"form-check m-2"},ei=["checked"],ti={class:"form-check-label",for:"wait_current_media"},ii={class:"form-check m-2"},si=["checked"],ai={class:"form-check-label",for:"reset_on_interaction"},li={class:"d-flex media-info-item"},oi={class:"media-info-text flex1"},ni={class:"dropdown media-info-text"},ri={class:"btn btn-primary dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},di={class:"dropdown-menu"},ci=["onClick"],pi={class:"d-flex"},ui={class:"media-info-title text-primary fw-semibold flex1"},mi=["onClick"],gi={key:1,class:"media-info-text flex1 truncate"},hi=["onSubmit"],yi=["data-key"],wi=["onClick"],fi={key:0},vi={class:"media-info-title text-primary fw-semibold"},bi=["onClick"],_i={class:"media-info-text flex1 truncate"};function ki(e,t,i,o,n,r){const d=(0,a.up)("ImageButton"),c=(0,a.up)("EmptyView"),p=(0,a.Q2)("t");return(0,a.wy)(((0,a.wg)(),(0,a.iD)("div",Mt,[(0,a._)("div",Ot,[Rt,(0,a.Wm)(d,{type:"close",class:"small",onClick:t[0]||(t[0]=(0,s.iM)((e=>r.hide()),["stop"]))})]),(0,a._)("div",Bt,[(0,a._)("div",{class:"d-flex media-info-item",onClick:t[1]||(t[1]=(0,s.iM)((e=>r.startEditingTimer()),["stop"]))},[(0,a.Wm)(d,{type:"sleep_timer"}),(0,a.wy)((0,a._)("p",Ft,null,512),[[p,"SLEEP_TIMER"]]),(0,a.Wm)(s.uT,{name:"fade"},{default:(0,a.w5)((()=>[n.isEditingTimer?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",Wt,[(0,a._)("p",Nt,(0,l.zw)(r.getSleepTimer()),1)]))])),_:1})]),(0,a.Wm)(s.uT,{name:"expand",onAfterEnter:r.onAfterEnter},{default:(0,a.w5)((()=>[n.isEditingTimer?((0,a.wg)(),(0,a.iD)("div",Ht,[(0,a._)("div",Yt,[(0,a.wy)((0,a._)("p",Kt,null,512),[[p,"SLEEP_IN"]]),(0,a._)("div",Vt,[(0,a._)("div",qt,[(0,a._)("button",Gt,(0,l.zw)(this.formatNumber(this.timerHours)),1),(0,a._)("ul",jt,[((0,a.wg)(),(0,a.iD)(a.HY,null,(0,a.Ko)(24,(e=>(0,a._)("li",{key:e},[(0,a._)("a",{class:"dropdown-item",onClick:t=>n.timerHours=e-1},(0,l.zw)(e-1),9,Ut)]))),64))])]),(0,a.wy)((0,a._)("span",null,null,512),[[p,"HOURS"]]),(0,a._)("div",zt,[(0,a._)("button",Qt,(0,l.zw)(this.formatNumber(this.timerMinutes)),1),(0,a._)("ul",Zt,[((0,a.wg)(),(0,a.iD)(a.HY,null,(0,a.Ko)(60,(e=>(0,a._)("li",{key:e},[(0,a._)("a",{class:"dropdown-item",onClick:t=>n.timerMinutes=e-1},(0,l.zw)(e-1),9,Jt)]))),64))])]),(0,a.wy)((0,a._)("span",null,null,512),[[p,"MINUTES"]])]),(0,a._)("div",Xt,[(0,a._)("input",{class:"form-check-input",type:"checkbox",ref:"waitCurrentMedia",checked:n.waitForMediaEnd,id:"wait_current_media"},null,8,ei),(0,a.wy)((0,a._)("label",ti,null,512),[[p,"WAIT_CURRENT_MEDIA"]])]),(0,a._)("div",ii,[(0,a._)("input",{class:"form-check-input",type:"checkbox",ref:"resetOnInteraction",checked:n.resetOnInteraction,value:"",id:"reset_on_interaction"},null,8,si),(0,a.wy)((0,a._)("label",ai,null,512),[[p,"RESET_ON_INTERACTION"]])]),(0,a.wy)((0,a._)("button",{type:"button",class:"btn btn-primary m-2",onClick:t[2]||(t[2]=(0,s.iM)((e=>n.isEditingTimer=!1),["stop"]))},null,512),[[p,"CANCEL"]]),(0,a.wy)((0,a._)("button",{type:"button",class:"btn btn-primary m-2",onClick:t[3]||(t[3]=(0,s.iM)((e=>r.setTimer()),["stop"]))},null,512),[[p,"OK"]])])],512)):(0,a.kq)("",!0)])),_:1},8,["onAfterEnter"]),(0,a._)("div",li,[(0,a.Wm)(d,{type:"speed"}),(0,a.wy)((0,a._)("p",oi,null,512),[[p,"PLAYBACK_SPEED"]]),(0,a._)("div",ni,[(0,a._)("button",ri,(0,l.zw)(this.playerStore.nowPlaying.speed)+"x ",1),(0,a._)("ul",di,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)([.25,.5,.75,1,1.25,1.5,2,4],(e=>((0,a.wg)(),(0,a.iD)("li",{key:e},[(0,a._)("a",{class:"dropdown-item",onClick:t=>r.changeSpeed(e)},(0,l.zw)(e)+"x",9,ci)])))),128))])])]),(0,a._)("div",null,[(0,a._)("div",pi,[(0,a.wy)((0,a._)("p",ui,null,512),[[p,"BOOKMARKS"]]),(0,a.Wm)(d,{type:"add",onClick:t[4]||(t[4]=e=>r.addBookmark())})]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(this.playerStore.nowPlaying.bookmarks,((e,i)=>((0,a.wg)(),(0,a.iD)("div",{key:e.time,class:"d-flex media-info-item",onClick:t=>r.seek(e.time)},[r.isNotRenaming(e)?((0,a.wg)(),(0,a.j4)(d,{key:0,type:"bookmark"})):(0,a.kq)("",!0),r.isNotRenaming(e)?((0,a.wg)(),(0,a.iD)("p",gi,(0,l.zw)(e.title),1)):((0,a.wg)(),(0,a.iD)("form",{key:2,class:"flex1 d-flex gap-2",onSubmit:(0,s.iM)((t=>r.renameBookmark(e)),["prevent"])},[(0,a._)("input",{class:"form-control form-control-sm flex1",type:"text","data-key":e.time,"aria-label":".form-control-sm"},null,8,yi),(0,a.wy)((0,a._)("button",{type:"button",class:"btn btn-primary",onClick:t[5]||(t[5]=(0,s.iM)((e=>n.renamingBookmark=void 0),["stop"]))},null,512),[[p,"CANCEL"]]),(0,a.wy)((0,a._)("button",{type:"button",class:"btn btn-primary",onClick:(0,s.iM)((t=>r.renameBookmark(e)),["stop"])},null,8,wi),[[p,"OK"]])],40,hi)),r.isNotRenaming(e)?((0,a.wg)(),(0,a.j4)(d,{key:3,type:"edit",onClick:(0,s.iM)((t=>r.setRenamingBookmark(e,i)),["stop"])},null,8,["onClick"])):(0,a.kq)("",!0),r.isNotRenaming(e)?((0,a.wg)(),(0,a.j4)(d,{key:4,type:"delete",onClick:(0,s.iM)((t=>r.deleteBookmark(e.time)),["stop"])},null,8,["onClick"])):(0,a.kq)("",!0)],8,mi)))),128)),"undefined"==typeof this.playerStore.nowPlaying.bookmarks||0==this.playerStore.nowPlaying.bookmarks.length?((0,a.wg)(),(0,a.j4)(c,{key:0,message:this.$t("NO_BOOKMARK")},null,8,["message"])):(0,a.kq)("",!0)]),"undefined"!==typeof this.playerStore.nowPlaying.chapters&&this.playerStore.nowPlaying.chapters.length>0?((0,a.wg)(),(0,a.iD)("div",fi,[(0,a.wy)((0,a._)("p",vi,null,512),[[p,"CHAPTERS"]]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(this.playerStore.nowPlaying.chapters,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:e.time,class:"d-flex media-info-item",onClick:e=>r.navigateChapter(t)},[(0,a.Wm)(d,{type:"chapter"}),(0,a._)("p",_i,(0,l.zw)(e.title),1)],8,bi)))),128))])):(0,a.kq)("",!0)])],512)),[[s.F8,this.playerStore.mediaInfoShowing&&this.playerStore.playing]])}const Si={class:"all-center container"},$i={class:"error-container all-center card"},Ti=["src"];function Di(e,t,i,s,o,n){return(0,a.wg)(),(0,a.iD)("div",Si,[(0,a._)("div",$i,[(0,a._)("img",{src:e.$getAppAsset(e.$getIcons().emptyIcon,64,!0)},null,8,Ti),(0,a._)("p",null,(0,l.zw)(i.message),1)])])}var Ii={props:{message:String}};const Ei=(0,Je.Z)(Ii,[["render",Di]]);var xi=Ei,Ai={components:{ImageButton:et,EmptyView:xi},data(){return{renamingBookmark:void 0,isEditingTimer:!1,timerEditingValue:0,timerHours:0,timerMinutes:0,waitForMediaEnd:!1,resetOnInteraction:!1}},updated:function(){if(this.renamingBookmark&&!this.renamingBookmark.focused){this.renamingBookmark.focused=!0;const e=document.querySelector(`input[data-key='${this.renamingBookmark.time}']`);e.value=this.renamingBookmark.title,e.focus(),e.select()}},computed:{...(0,Ve.Kc)(kt)},methods:{hide(){this.playerStore.mediaInfoShowing=!1,this.renamingBookmark=void 0,this.isEditingTimer=!1},navigateChapter(e){this.$root.sendMessage("play-chapter",e)},changeSpeed(e){this.$root.sendMessage("speed",null,e)},seek(e){this.$root.sendMessage("set-progress",e)},addBookmark(){this.$root.sendMessage("add-bookmark",null,null,this.playerStore.nowPlaying.progress)},deleteBookmark(e){this.$root.sendMessage("delete-bookmark",null,null,e)},isNotRenaming(e){return"undefined"==typeof this.renamingBookmark||this.renamingBookmark.time!=e.time},setRenamingBookmark(e){this.renamingBookmark=e},renameBookmark(e){const t=document.querySelector(`input[data-key='${e.time}']`);this.$root.sendMessage("rename-bookmark",null,null,e.time,t.value),this.renamingBookmark=void 0},getSleepTimer(){let e=new Date(this.playerStore.nowPlaying.sleepTimer);var t=new Date;return e<t?this.$t("NOT_SET"):e.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"})},formatNumber(e){return e<10?`0${e}`:`${e}`},startEditingTimer(){this.isEditingTimer=!0;let e=new Date(this.playerStore.nowPlaying.sleepTimer);var t=new Date;if(e<t)return this.timerHours=0,void(this.timerMinutes=0);var i=e-t,s=Math.floor(i%864e5/36e5),a=Math.round(i%864e5%36e5/6e4);60==a&&(a=0,s+=1),this.timerHours=s,this.timerMinutes=a,this.waitForMediaEnd=this.playerStore.nowPlaying.waitForMediaEnd,this.resetOnInteraction=this.playerStore.nowPlaying.resetOnInteraction},setTimer(){var e=36e5*this.timerHours+6e4*this.timerMinutes;this.$root.sendMessage("sleep-timer",null,null,e,null),this.$root.sendMessage("sleep-timer-wait",null,null,null,`${this.$refs.waitCurrentMedia.checked}`),this.$root.sendMessage("sleep-timer-reset",null,null,null,`${this.$refs.resetOnInteraction.checked}`),this.isEditingTimer=!1},onAfterEnter(){var e=document.querySelector(":root");e.style.setProperty("--timer-form-height",`${this.$refs.sleepForm.offsetHeight}px`)}}};const Ci=(0,Je.Z)(Ai,[["render",ki]]);var Pi=Ci;const Li={id:"play_queue"},Mi={class:"d-flex border-bottom play-queue-toolbar align-items-center"},Oi=(0,a._)("div",{class:"flex1"}," ",-1),Ri={class:"play-queue-items"};function Bi(e,t,i,o,n,r){const d=(0,a.up)("ImageButton"),c=(0,a.up)("PlayQueueItem");return(0,a.wy)(((0,a.wg)(),(0,a.iD)("div",Li,[(0,a._)("div",Mi,[Oi,(0,a.wy)((0,a.Wm)(d,{type:"remote",class:"small",selected:this.appStore.showRemote,onClick:t[0]||(t[0]=(0,s.iM)((e=>this.appStore.showRemote=!this.appStore.showRemote),["stop"]))},null,8,["selected"]),[[s.F8,this.playerStore.nowPlaying.isVideoPlaying]]),(0,a.Wm)(d,{type:"edit",class:(0,l.C_)(["small",this.playerStore.playQueueEdit?"active":""]),onClick:t[1]||(t[1]=(0,s.iM)((e=>this.playerStore.togglePlayQueueEdit()),["stop"]))},null,8,["class"]),(0,a.Wm)(d,{type:"close",class:"small",onClick:t[2]||(t[2]=(0,s.iM)((e=>r.hide()),["stop"]))})]),(0,a._)("div",Ri,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.playerStore.playqueueData.medias,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:e.id,class:"play-queue-item"},[(0,a.Wm)(c,{mediaIndex:t,media:e},null,8,["mediaIndex","media"])])))),128))])],512)),[[s.F8,this.playerStore.playqueueShowing]])}const Fi={class:"media-artwork-container"},Wi={class:"playing"},Ni={class:"media-artwork"},Hi={class:"media-text"},Yi={class:"h6 queue-title text-truncate"},Ki={class:"queue-subtitle text-truncate"};function Vi(e,t,i,o,n,r){const d=(0,a.up)("ImageButton"),c=(0,a.Q2)("lazy");return(0,a.wg)(),(0,a.iD)("div",{class:"media-info",onClick:t[3]||(t[3]=e=>r.play(i.mediaIndex))},[(0,a._)("div",Fi,[(0,a.wy)((0,a._)("div",Wi,[(0,a._)("span",{class:(0,l.C_)(["playing-bar playing-bar1",this.playerStore.nowPlaying.playing?"":"paused"])},null,2),(0,a._)("span",{class:(0,l.C_)(["playing-bar playing-bar2",this.playerStore.nowPlaying.playing?"":"paused"])},null,2),(0,a._)("span",{class:(0,l.C_)(["playing-bar playing-bar3",this.playerStore.nowPlaying.playing?"":"paused"])},null,2)],512),[[s.F8,i.media.playing]]),(0,a.wy)((0,a._)("img",Ni,null,512),[[c,e.$getImageUrl(i.media,"video")]])]),(0,a._)("div",Hi,[(0,a._)("p",Yi,(0,l.zw)(i.media.title),1),(0,a._)("p",Ki,(0,l.zw)(r.getItemSubtitle(i.media)),1)]),(0,a.wy)((0,a.Wm)(d,{type:"expand_more",onClick:t[0]||(t[0]=(0,s.iM)((e=>r.moveMediaBottom(i.mediaIndex)),["stop"]))},null,512),[[s.F8,this.playerStore.playQueueEdit]]),(0,a.wy)((0,a.Wm)(d,{type:"expand_less",onClick:t[1]||(t[1]=(0,s.iM)((e=>r.moveMediaTop(i.mediaIndex)),["stop"]))},null,512),[[s.F8,this.playerStore.playQueueEdit]]),(0,a.wy)((0,a.Wm)(d,{type:"playlist_remove",onClick:t[2]||(t[2]=(0,s.iM)((e=>r.removeItem(i.mediaIndex)),["stop"]))},null,512),[[s.F8,this.playerStore.playQueueEdit]])])}var qi={components:{ImageButton:et},props:{media:Object,mediaIndex:Number},computed:{...(0,Ve.Kc)(kt)},mounted:function(){},methods:{removeItem(e){this.$root.sendMessage("delete-media",e)},play(e){this.$root.sendMessage("play-media",e)},moveMediaBottom(e){this.$root.sendMessage("move-media-bottom",e)},moveMediaTop(e){this.$root.sendMessage("move-media-top",e)},getItemSubtitle(e){return 0===e.artist.length?this.$readableDuration(e.duration):`${e.artist} · ${this.$readableDuration(e.duration)}`}}};const Gi=(0,Je.Z)(qi,[["render",Vi]]);var ji=Gi,Ui={components:{PlayQueueItem:ji,ImageButton:et},computed:{...(0,Ve.Kc)(je),...(0,Ve.Kc)(kt)},methods:{hide(){this.playerStore.playqueueShowing=!1,this.playerStore.responsivePlayerShowing=!1}}};const zi=(0,Je.Z)(Ui,[["render",Bi]]);var Qi=zi;const Zi={key:0},Ji={key:0};function Xi(e,t,i,o,n,r){return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",{class:(0,l.C_)(["alert alert-warning alert-dismissible fade d-inline-block",void 0!==this.appStore.warning&&"warning"==this.appStore.warning.type?"show":""]),role:"alert",ref:"warning"},[void 0!==this.appStore.warning?((0,a.wg)(),(0,a.iD)("p",Zi,(0,l.zw)(this.appStore.warning.message),1)):(0,a.kq)("",!0),(0,a._)("button",{type:"button",onClick:t[0]||(t[0]=(0,s.iM)((e=>r.hideWarning()),["stop"])),class:"btn-close","aria-label":"Close"})],2),(0,a._)("div",{class:(0,l.C_)(["alert alert-success alert-dismissible fade d-inline-block",void 0!==this.appStore.warning&&"message"==this.appStore.warning.type?"show":""]),role:"alert",ref:"warning"},[void 0!==this.appStore.warning?((0,a.wg)(),(0,a.iD)("p",Ji,(0,l.zw)(this.appStore.warning.message),1)):(0,a.kq)("",!0),(0,a._)("button",{type:"button",onClick:t[1]||(t[1]=(0,s.iM)((e=>r.hideWarning()),["stop"])),class:"btn-close","aria-label":"Close"})],2)],64)}var es={name:"App",components:{},computed:{...(0,Ve.Kc)(je)},methods:{hideWarning(){this.appStore.warning=void 0}}};const ts=(0,Je.Z)(es,[["render",Xi]]);var is=ts;const ss={key:0,class:"container"},as={class:"modal-dialog modal-dialog-centered",role:"document"},ls={class:"modal-content"},os={class:"modal-header"},ns={class:"modal-title",id:"streamModalTitle"},rs={class:"modal-body"},ds={class:"container"},cs={class:"d-flex align-items-center justify-content-center"},ps=["placeholder"];function us(e,t,i,l,o,n){const r=(0,a.up)("ImageButton"),d=(0,a.Q2)("t");return this.appStore.showAddStream?((0,a.wg)(),(0,a.iD)("div",ss,[(0,a._)("div",{class:"modal fade",id:"streamModal",ref:"streamModal",tabindex:"-1",role:"dialog","aria-labelledby":"streamModalTitle",onClose:t[2]||(t[2]=(...e)=>n.hidden&&n.hidden(...e)),"aria-hidden":"true"},[(0,a._)("div",as,[(0,a._)("div",ls,[(0,a._)("div",os,[(0,a.wy)((0,a._)("h5",ns,null,512),[[d,"NEW_STREAM"]])]),(0,a._)("div",rs,[(0,a._)("div",ds,[(0,a._)("div",cs,[(0,a._)("input",{type:"text",id:"searchInput",class:"search-input",ref:"searchText",placeholder:e.$t("ENTER_STREAM"),onKeydown:t[0]||(t[0]=(0,s.D2)(((...t)=>e.onPressEnter&&e.onPressEnter(...t)),["enter"]))},null,40,ps),(0,a.Wm)(r,{type:"send","data-bs-toggle":"tooltip","data-bs-placement":"bottom",onClick:t[1]||(t[1]=e=>n.play()),title:e.$t("SEND")},null,8,["title"])])])])])])],544)])):(0,a.kq)("",!0)}var ms=i(2166),gs={name:"App",components:{ImageButton:et},computed:{...(0,Ve.Kc)(je)},data(){return{modal:null}},methods:{play(){this.$play({path:this.$refs.searchText.value,id:-1},"stream",!1,!1),this.appStore.showAddStream=!1},hidden(){this.appStore.showAddStream=!1}},mounted:function(){this.appStore.$subscribe((()=>{this.appStore.showAddStream?(this.modal=new ms.u_(document.getElementById("streamModal"),{}),this.modal.show(),(0,a.Y3)((()=>{this.$refs.streamModal.addEventListener("hidden.bs.modal",(()=>{this.appStore.showAddStream=!1}))}))):this.modal&&this.modal.hide()}))}};const hs=(0,Je.Z)(gs,[["render",us]]);var ys=hs;const ws={id:"remote",ref:"remote"},fs={id:"remote_header",ref:"remoteHeader",class:"d-flex align-items-center"},vs={class:"flex1 m-3"},bs={class:"d-pad-container"},_s={class:"d-flex align-items-center"},ks=(0,a._)("span",{class:"flex1"},null,-1),Ss={class:"d-pad mt-2"},$s=(0,a._)("td",null,null,-1),Ts=(0,a._)("td",null,null,-1),Ds=(0,a._)("td",null,null,-1),Is=(0,a._)("td",null,null,-1),Es={class:"d-flex align-items-center mt-2"},xs=(0,a._)("span",{class:"flex1"},null,-1),As=(0,a._)("span",{class:"flex1"},null,-1);function Cs(e,t,i,l,o,n){const r=(0,a.up)("ImageButton"),d=(0,a.Q2)("t");return(0,a.wy)(((0,a.wg)(),(0,a.iD)("div",ws,[(0,a._)("div",fs,[(0,a.wy)((0,a._)("p",vs,null,512),[[d,"VIDEO_PLAYER_REMOTE"]]),(0,a.Wm)(r,{type:"close",onClick:t[0]||(t[0]=e=>this.appStore.showRemote=!1)})],512),(0,a._)("div",bs,[(0,a._)("div",_s,[(0,a.Wm)(r,{type:"back",onClick:t[1]||(t[1]=e=>this.send("back"))}),ks,(0,a.Wm)(r,{type:"keyboard",class:"desktop-only",selected:this.keyboardActive,"data-bs-toggle":"tooltip","data-bs-placement":"bottom",title:e.$t("REMOTE_KEYBOARD_NAVIGATION"),onClick:t[2]||(t[2]=e=>this.keyboardActive=!this.keyboardActive)},null,8,["selected","title"])]),(0,a._)("div",Ss,[(0,a._)("table",null,[(0,a._)("tbody",null,[(0,a._)("tr",null,[$s,(0,a._)("td",null,[(0,a.Wm)(r,{type:"up",onClick:t[3]||(t[3]=e=>this.send("up"))})]),Ts]),(0,a._)("tr",null,[(0,a._)("td",null,[(0,a.Wm)(r,{type:"left",onClick:t[4]||(t[4]=e=>this.send("left"))})]),(0,a._)("td",null,[(0,a.Wm)(r,{type:"center",onClick:t[5]||(t[5]=e=>this.send("center"))})]),(0,a._)("td",null,[(0,a.Wm)(r,{type:"right",onClick:t[6]||(t[6]=e=>this.send("right"))})])]),(0,a._)("tr",null,[Ds,(0,a._)("td",null,[(0,a.Wm)(r,{type:"down",onClick:t[7]||(t[7]=e=>this.send("down"))})]),Is])])])]),(0,a._)("div",Es,[xs,(0,a.Wm)(r,{type:"skip_previous",onClick:t[8]||(t[8]=e=>this.send("skip-previous"))}),this.playerStore.nowPlaying.playing?((0,a.wg)(),(0,a.j4)(r,{key:0,type:"pause",onClick:t[9]||(t[9]=e=>this.send("pause"))})):(0,a.kq)("",!0),this.playerStore.nowPlaying.playing?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(r,{key:1,type:"play",onClick:t[10]||(t[10]=e=>this.send("play"))})),(0,a.Wm)(r,{type:"skip_next",onClick:t[11]||(t[11]=e=>this.send("skip-next"))}),As])])],512)),[[s.F8,this.show]])}var Ps={name:"App",components:{ImageButton:et},computed:{...(0,Ve.Kc)(kt,je),...(0,Ve.rn)(kt,["playing"]),...(0,Ve.rn)(je,["showRemote"])},data(){return{show:!1,remoteWidth:0,remoteHeight:0,keyboardActive:!1}},methods:{send(e){this.$root.sendMessage("remote",null,null,null,e)},dragElement(e){let t=this.$refs.remote;var i=0,s=0,a=0,l=0;function o(e){e=e||window.event,e.preventDefault(),a=e.clientX,l=e.clientY,document.onmouseup=r,document.onmousemove=n}function n(e){e=e||window.event,e.preventDefault(),i=a-e.clientX,s=l-e.clientY,a=e.clientX,l=e.clientY;let o=document.body,n=document.documentElement;var r=Math.max(o.scrollHeight,o.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight),d=Math.max(o.scrollWidth,o.offsetWidth,n.clientWidth,n.scrollWidth,n.offsetWidth);let c=t.offsetWidth+1,p=t.offsetHeight,u=Math.min(Math.max(t.offsetTop-s,0),r-p),m=Math.min(Math.max(t.offsetLeft-i,0),d-c);t.style.top=`${u}px`,t.style.left=`${m}px`,localStorage.setItem("remoteX",m),localStorage.setItem("remoteY",u)}function r(){document.onmouseup=null,document.onmousemove=null}e.onmousedown=o},getPageSize(){let e=document.body,t=document.documentElement;var i=Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.offsetHeight),s=Math.max(e.scrollWidth,e.offsetWidth,t.clientWidth,t.scrollWidth,t.offsetWidth);return{width:s,height:i}},resizeHandler(){this.show&&this.constraintToBounds()},getConstraintBounds(e,t){let i=this.getPageSize(),s=this.remoteWidth+1,a=this.remoteHeight;if(s<1||a<1)return;let l=Math.min(Math.max(t,0),i.height-a),o=Math.min(Math.max(e,0),i.width-s);return{x:o,y:l}},constraintToBounds(){let e=this.$refs.remote,t=this.getConstraintBounds(this.$refs.remote.offsetLeft,this.$refs.remote.offsetTop);e.style.top=`${t.y}px`,e.style.left=`${t.x}px`}},mounted(){this.dragElement(this.$refs.remoteHeader)},watch:{playing(){this.show=this.playerStore.playing&&this.appStore.showRemote},showRemote(){this.show=this.playerStore.playing&&this.appStore.showRemote},show(){this.show&&(0,a.Y3)((()=>{0==this.remoteWidth&&(this.remoteWidth=this.$refs.remote.offsetWidth),0==this.remoteHeight&&(this.remoteHeight=this.$refs.remote.offsetHeight);let e=localStorage.getItem("remoteY"),t=localStorage.getItem("remoteX"),i=this.getConstraintBounds(t,e);this.$refs.remote.style.top=`${i.y}px`,this.$refs.remote.style.left=`${i.x}px`}))}},created(){window.addEventListener("resize",this.resizeHandler),document.addEventListener("keyup",(e=>{this.keyboardActive&&("ArrowUp"===e.code&&this.send("up"),"ArrowDown"===e.code&&this.send("down"),"ArrowLeft"===e.code&&this.send("left"),"ArrowRight"===e.code&&this.send("right"),"Enter"!==e.code&&"NumpadEnter"!==e.code||this.send("center"),"Escape"===e.code&&this.send("back"))}))},unmounted(){window.removeEventListener("resize",this.resizeHandler)}};const Ls=(0,Je.Z)(Ps,[["render",Cs]]);var Ms=Ls;const Os={class:"drop-files-content"},Rs=["src"],Bs={class:"uploads"},Fs={class:"uploads-header d-flex align-items-center"},Ws={key:0,class:"flex1 uploads-title"},Ns={key:1,class:"flex1 uploads-title"},Hs={class:"uploads-table table-responsive"},Ys={class:"table"},Ks={class:""},Vs={class:"",role:"columnheader",scope:"col"},qs=(0,a._)("th",{class:"status-header",role:"columnheader",scope:"col"},null,-1),Gs={class:"align-middle"},js=["title"],Us={key:0,class:"progress",role:"progressbar","aria-valuenow":"0","aria-valuemin":"0","aria-valuemax":"100"},zs={class:"align-middle text-end status-cell"},Qs={key:0},Zs={key:1},Js={class:"spinner-border text-primary align-middle",role:"status"},Xs={class:"visually-hidden"},ea=["src"],ta={key:3},ia=["src"];function sa(e,t,i,o,n,r){const d=(0,a.up)("ImageButton"),c=(0,a.Q2)("t");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",{class:(0,l.C_)(["drop-files",this.dragging?"active":""]),ref:"dropFiles",onDragenter:t[0]||(t[0]=(0,s.iM)((e=>r.setDragging(!0)),["prevent"])),onDragover:t[1]||(t[1]=(0,s.iM)((e=>r.setDragging(!0)),["prevent"])),onDragleave:t[2]||(t[2]=(0,s.iM)((e=>r.setDragging(!1)),["prevent"])),onDrop:t[3]||(t[3]=(0,s.iM)(((...e)=>r.onDrop&&r.onDrop(...e)),["prevent"]))},[(0,a._)("div",Os,[(0,a._)("img",{class:"image-button-image image-button",src:"./icons/file_upload.svg",width:"82"},null,8,Rs),(0,a.wy)((0,a._)("p",null,null,512),[[c,"DROP_FILES_TIP"]])])],34),(0,a._)("input",{type:"file",id:"file_upload",multiple:"true",style:{display:"none"},onChange:t[4]||(t[4]=(...e)=>r.filesSelected&&r.filesSelected(...e)),ref:"inputFile"},null,544),(0,a.wy)((0,a._)("div",Bs,[(0,a._)("div",Fs,[0==this.uploadStore.uploadRemaining()?(0,a.wy)(((0,a.wg)(),(0,a.iD)("h6",Ws,null,512)),[[c,"SEND_FILES"]]):((0,a.wg)(),(0,a.iD)("h6",Ns,(0,l.zw)(e.$t("UPLOAD_REMAINING",{msg:this.uploadStore.uploadRemaining()})),1)),(0,a.Wm)(d,{type:"close",onClick:t[5]||(t[5]=e=>this.uploadStore.clearUploads())})]),(0,a._)("div",Hs,[(0,a._)("table",Ys,[(0,a._)("thead",null,[(0,a._)("tr",Ks,[(0,a.wy)((0,a._)("th",Vs,null,512),[[c,"FILE"]]),qs])]),(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.uploadStore.uploadingFiles,((e,t)=>((0,a.wg)(),(0,a.iD)("tr",{key:t},[(0,a._)("td",Gs,[(0,a._)("p",{class:"text-truncate","data-bs-toggle":"tooltip","data-bs-placement":"left",title:e.file.name},(0,l.zw)(e.file.name),9,js),"uploading"==e.status?((0,a.wg)(),(0,a.iD)("div",Us,[(0,a._)("div",{class:"progress-bar bg-primary",style:(0,l.j5)({width:r.getProgress(e)})},null,4)])):(0,a.kq)("",!0)]),(0,a._)("td",zs,["waiting"==e.status?((0,a.wg)(),(0,a.iD)("div",Qs,[(0,a.Wm)(d,{type:"file_upload",class:"small",onClick:t=>this.$upload(e.file)},null,8,["onClick"]),(0,a.Wm)(d,{type:"delete",class:"small",onClick:t=>this.deleteUpload(e.file)},null,8,["onClick"])])):"uploading"==e.status?((0,a.wg)(),(0,a.iD)("div",Zs,[(0,a._)("div",Js,[(0,a.wy)((0,a._)("span",Xs,null,512),[[c,"LOADING"]])]),(0,a.Wm)(d,{type:"cancel",class:"small",onClick:t=>this.$cancelUploadFile(e.file)},null,8,["onClick"])])):"error"==e.status?((0,a.wg)(),(0,a.iD)("img",{key:2,class:"image-button-image",src:"./icons/error.svg"},null,8,ea)):((0,a.wg)(),(0,a.iD)("div",ta,[(0,a._)("img",{class:"image-button-image",src:"./icons/success.svg"},null,8,ia),(0,a.Wm)(d,{type:"close",class:"small",onClick:t=>this.deleteUpload(e.file)},null,8,["onClick"])]))])])))),128))])])]),(0,a.wy)((0,a._)("button",{type:"button",onClick:t[6]||(t[6]=(...e)=>r.uploadAll&&r.uploadAll(...e)),class:"btn btn-outline-primary upload-all"},null,512),[[c,"UPLOAD_ALL"]])],512),[[s.F8,this.uploadStore.uploadingFiles.length>0]])],64)}const aa=(0,Ve.Q_)("upload",{state:()=>({uploadingFiles:[]}),getters:{},actions:{changeFileStatus(e,t){const i={file:e,status:t};var s=this.uploadingFiles.findIndex((t=>t.file.name==e.name));-1==s?this.uploadingFiles.push(i):this.uploadingFiles[s]=i},clearUploads(){this.uploadingFiles=[]},changeProgress(e,t){this.uploadingFiles.find((t=>t.file.name==e.name)).progress=t},uploadRemaining(){return this.uploadingFiles.filter((e=>"uploading"==e.status)).length},removeUpload(e){var t=this.uploadingFiles.findIndex((t=>t.file.name==e.name));this.uploadingFiles.splice(t,1)}}});var la={components:{ImageButton:et},computed:{...(0,Ve.Kc)(aa)},data(){return{dragging:!1,inActiveTimeout:null}},methods:{openFiles(){this.$refs.inputFile.click()},filesSelected(){const e=document.getElementById("file_upload");for(const t of e.files)this.uploadStore.changeFileStatus(t,"waiting");this.refreshTooltips()},uploadAll(){this.uploadStore.uploadingFiles.filter((e=>"waiting"==e.status)).forEach((e=>{this.$upload(e.file)}))},deleteUpload(e){this.uploadStore.removeUpload(e)},getProgress(e){return`${e.progress}%`},onDrop(e){this.dragging=!1;for(const t of e.dataTransfer.files)this.uploadStore.changeFileStatus(t,"waiting");this.refreshTooltips()},setDragging(e){e?(this.dragging=!0,clearTimeout(this.inActiveTimeout)):this.inActiveTimeout=setTimeout((()=>{this.dragging=!1}),50)},refreshTooltips(){this.$nextTick((()=>{var e=[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));e.map((function(e){return new ms.u(e,{trigger:"hover"})}))}))}},mounted(){var e=!1;document.body.addEventListener("dragstart",function(){e=!0}.bind(this),!1),document.addEventListener("dragend",(function(){e&&(e=!1)}),!1),document.body.addEventListener("dragenter",function(t){e?this.$log.log("Same page drag. Give up"):(this.$log.log("Drag and drop event: "+t.type),this.setDragging(!0),t.preventDefault(),t.stopPropagation())}.bind(this),!1)}};const oa=(0,Je.Z)(la,[["render",sa]]);var na=oa;const ra={class:"playlists"},da={class:"playlists-header d-flex align-items-center"},ca={class:"flex1 add-playlist-title"},pa={class:"playlists-content"},ua={class:"p-2"},ma={key:0,class:"flex add-playlist-item border m-2 p-2 rounded-2"},ga={class:"media-img-list flex1"},ha={class:"p-2"},ya={class:"p-2"},wa={class:"p-2 m-2 align-items-center border rounded-2"},fa={class:"d-flex",style:{"align-items":"center"}},va={key:1},ba=["onClick"],_a={class:"media-img-list"},ka={class:"flex1 p-2"},Sa={class:"text-truncate"},$a={class:"card-text text-truncate subtitle"},Ta=["src"],Da={key:2,class:"empty-view-container"};function Ia(e,t,i,o,n,r){const d=(0,a.up)("ImageButton"),c=(0,a.up)("EmptyView"),p=(0,a.Q2)("t"),u=(0,a.Q2)("lazy");return(0,a.wy)(((0,a.wg)(),(0,a.iD)("div",ra,[(0,a._)("div",da,[(0,a.wy)((0,a._)("h6",ca,null,512),[[p,"ADD_PLAYLIST"]]),(0,a.Wm)(d,{type:"close",onClick:t[0]||(t[0]=e=>this.addToPlaylistStore.media=null)})]),(0,a._)("div",pa,[(0,a.wy)((0,a._)("p",ua,null,512),[[p,"ADDING"]]),this.addToPlaylistStore.media?((0,a.wg)(),(0,a.iD)("div",ma,[(0,a.wy)((0,a._)("img",ga,null,512),[[u,e.$getImageUrl(this.addToPlaylistStore.media,this.addToPlaylistStore.mediaType)]]),(0,a._)("span",ha,(0,l.zw)(this.addToPlaylistStore.media.title),1)])):(0,a.kq)("",!0),(0,a.wy)((0,a._)("p",ya,null,512),[[p,"TO"]]),(0,a._)("div",wa,[(0,a.wy)((0,a._)("p",null,null,512),[[p,"NEW_PLAYLIST"]]),(0,a._)("div",fa,[(0,a._)("input",{type:"text",ref:"createPlaylistText",class:"form-control flex1","aria-describedby":"passwordHelpInline",onKeyup:t[1]||(t[1]=(0,s.D2)(((...e)=>r.createPlaylist&&r.createPlaylist(...e)),["enter"]))},null,544),(0,a.wy)((0,a._)("button",{type:"button",onClick:t[2]||(t[2]=(...e)=>r.createPlaylist&&r.createPlaylist(...e)),class:"btn btn-outline-primary upload-all"},null,512),[[p,"CREATE"]])])]),n.loaded&&0!==this.playlists.length?((0,a.wg)(),(0,a.iD)("div",va,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.playlists,(t=>((0,a.wg)(),(0,a.iD)("div",{key:t.id,class:(0,l.C_)(["add-playlist-item d-flex playlist-item border m-2 p-2 rounded-2",n.selectedPlaylists.includes(t)?"active":""]),onClick:e=>r.select(t)},[(0,a.wy)((0,a._)("img",_a,null,512),[[u,e.$getImageUrl(t,"playlist")]]),(0,a._)("div",ka,[(0,a._)("p",Sa,(0,l.zw)(t.title),1),(0,a._)("p",$a,(0,l.zw)(t.artist),1)]),(0,a.wy)((0,a._)("img",{src:"./icons/checked.svg"},null,8,Ta),[[s.F8,n.selectedPlaylists.includes(t)]])],10,ba)))),128))])):n.loaded?((0,a.wg)(),(0,a.iD)("div",Da,[(0,a.Wm)(c,{message:r.getEmptyText()},null,8,["message"])])):(0,a.kq)("",!0)]),(0,a.wy)((0,a._)("button",{type:"button",onClick:t[3]||(t[3]=(...e)=>r.addToPlaylist&&r.addToPlaylist(...e)),class:"btn btn-outline-primary upload-all"},null,512),[[p,"ADD"]])],512)),[[s.F8,this.addToPlaylistStore.media]])}const Ea=(0,Ve.Q_)("addToPlaylist",{state:()=>({media:null}),getters:{},actions:{}});var xa=i(9882);const Aa=xa.Z.create(),Ca=e=>{const t=uc.currentRoute.value.name,i="LoginPage"==t||"LoginPageError"==t;try{if(401==e.response.status&&!i)return void uc.push({name:"LoginPage"})}catch(s){401==e.response.status&&(i||uc.push({name:"LoginPage"}))}return Promise.reject(e)},Pa=e=>{try{return Promise.resolve(e)}catch(t){return Promise.resolve(e)}};Aa.interceptors.response.use(Pa,Ca);const La=e=>Promise.reject(e),Ma=e=>e;Aa.interceptors.request.use(Ma,La);var Oa=Aa,Ra={components:{ImageButton:et,EmptyView:xi},computed:{...(0,Ve.Kc)(je,Ea)},data(){return{playlists:[],selectedPlaylists:[],loaded:!1,loading:!1,forbidden:!1}},methods:{fetchPlaylists(){let e=this;e.loading=!0,Oa.get(At.playlistList).catch((function(t){void 0!==t.response&&403==t.response.status&&(e.forbidden=!0)})).then((t=>{this.loaded=!0,t&&(e.forbidden=!1,this.playlists=t.data),e.loading=!1}))},select(e){this.selectedPlaylists.includes(e)?this.selectedPlaylists.splice(this.selectedPlaylists.indexOf(e),1):this.selectedPlaylists.push(e)},createPlaylist(){let e=this,t={name:this.$refs.createPlaylistText.value};Oa.post(At.createPlaylist,t,{headers:{"Content-Type":"multipart/form-data"}}).catch((function(t){void 0!==t.response&&403==t.response.status?(e.forbidden=!0,e.appStore.warning={type:"warning",message:e.$t("FORBIDDEN")}):t.response.data&&(e.appStore.warning={type:"warning",message:t.response.data})})).then((()=>{this.$refs.createPlaylistText.value="",this.fetchPlaylists()}))},addToPlaylist(){let e=this,t={mediaId:this.addToPlaylistStore.media.id,mediaType:this.addToPlaylistStore.media.mediaType,playlists:this.selectedPlaylists.map((e=>e.id))};Oa.post(At.addToPlaylist,t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).catch((function(t){void 0!==t.response&&403==t.response.status&&(e.forbidden=!0,e.appStore.warning={type:"warning",message:e.$t("FORBIDDEN")})})).then((()=>{this.addToPlaylistStore.media=null}))},getEmptyText(){return this.forbidden?this.$t("FORBIDDEN"):this.$t("NO_PLAYLIST")}},mounted:function(){this.addToPlaylistStore.$subscribe(((e,t)=>{console.log(`Something changed in the add to playlist store: ${JSON.stringify(t)}`),t.media&&this.fetchPlaylists()})),this.appStore.$subscribe(((e,t)=>{console.log(`Something changed in the app store: ${JSON.stringify(t)}`),t.needRefreshPlaylist&&(this.fetchPlaylists(),this.appStore.needRefreshPlaylist=!1)}))}};const Ba=(0,Je.Z)(Ra,[["render",Ia]]);var Fa=Ba,Wa={name:"App",components:{AppHeader:st,MediaInfo:Pi,MiniPlayer:Lt,PlayQueue:Qi,Alert:is,AddStream:ys,Remote:Ms,UploadDialog:na,AddPlaylistDialog:Fa},computed:{...(0,Ve.Kc)(kt,je,Ue)},data(){return{retryDelay:500,retrying:!1,connection:null}},methods:{sendMessage(e,t,i,s,a){if(this.$log.log(`Sending message : ${e} - ${t} - ${i} - ${s} - ${a}`),this.connection)this.connection.send(JSON.stringify({message:e,id:t,floatValue:i,longValue:s,stringValue:a,authTicket:this.appStore.wsTicket}));else{let s=this;Oa.get(At.playbackEvent(e,t,i)).catch((function(e){void 0!==e.response&&403==e.response.status&&(s.appStore.warning={type:"warning",message:s.$t("PLAYBACK_CONTROL_FORBIDDEN")})}))}},handleServerMessage(e){switch(0==this.playerStore.playing&&e.shouldShow&&(this.$log.info("Starting player ..."),this.playerStore.playing=!0),e.type){case"player-status":this.playerStore.playing=e.playing,e.playing||(this.playerStore.playqueueShowing=!1,this.playerStore.responsivePlayerShowing=!1);break;case"volume":this.playerStore.volume=e.volume;break;case"login-needed":e.dialogOpened?this.appStore.warning={type:"warning",message:this.$t("INVALID_LOGIN")}:this.appStore.warning=void 0;break;case"now-playing":this.playerStore.nowPlaying=e,this.playerStore.volume=e.volume;break;case"play-queue":this.playerStore.playqueueData=e;break;case"auth":this.askWSTicket(JSON.parse(e.initialMessage));break;case"playback-control-forbidden":this.appStore.warning={type:"warning",message:this.$t("PLAYBACK_CONTROL_FORBIDDEN")};break;case"ml-refresh-needed":this.$log.info("ML refresh needed"),this.appStore.needRefresh=!0;break;case"browser-description":this.browserStore.descriptions.push(e);break}},askWSTicket(){let e=this;Oa.get(At.websocketAuthTicket).catch((function(){})).then((t=>{void 0!==t&&(e.appStore.wsTicket=t.data)}))},sendFiles(){this.$refs.uploadComponent.openFiles()},startWS(){let e=this;Oa.get(At.websocketAuthTicket).then((t=>{e.appStore.wsTicket=t.data,this.setupWS()})).catch((e=>{this.longPolling(),this.$log.log("An error occurred while getting the websocket auth ticket, Started Polling",e)}))},setupWS(){this.$log.log("Starting connection to WebSocket Server"),this.connection=new WebSocket(At.websocket,"player"),this.connection.onmessage=e=>{const t=JSON.parse(e.data);this.handleServerMessage(t)},this.connection.onopen=e=>{clearTimeout(this.retryId),this.retryDelay=500,this.retrying=!1,this.$log.log("Successfully connected to the echo websocket server. Event: ",e),this.appStore.socketOpened=!0,this.sendMessage("hello")},this.connection.onclose=()=>{this.$log.log("Socket closed"),this.appStore.socketOpened=!1,this.retrying||this.retry()},this.connection.onerror=()=>{this.$log.log("Socket on error"),this.appStore.socketOpened=!1}},retry(){this.retrying=!0,clearTimeout(this.retryId),this.retryDelay=this.retryDelay+500,this.retryDelay>1e4&&(this.retryDelay=1e4),this.setupWS(),this.retryId=setTimeout(this.retry,this.retryDelay),this.$log.log(`Will retry in ${this.retryDelay}ms`)},longPolling(){Oa.get(At.longPolling).then((e=>{e.data.forEach((e=>{this.handleServerMessage(e)})),setTimeout((()=>this.longPolling()),At.pollingInterval)})).catch((e=>{this.$log.log("An error occurred during long polling:",e),setTimeout((()=>this.longPolling()),this.retryDelay)}))}},created:function(){console.log("App.vue onCreated"),window.addEventListener("resize",(()=>{let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${e}px`)})),"https:"!==location.protocol?this.$router.push({name:"SslPage"}):this.startWS(),this.appStore.darkTheme?document.documentElement.setAttribute("data-bs-theme","dark"):document.documentElement.removeAttribute("data-bs-theme")},mounted:function(){this.appStore.$subscribe(((e,t)=>{t.darkTheme?document.documentElement.setAttribute("data-bs-theme","dark"):document.documentElement.removeAttribute("data-bs-theme")}))}};const Na=(0,Je.Z)(Wa,[["render",d]]);var Ha=Na,Ya=i(2483);const Ka={key:0,class:"container"},Va={key:0,class:"row gx-3 gy-3 media-list"},qa={key:1,class:"row gx-3 gy-3 media-content"},Ga={key:1,class:"empty-view-container"};function ja(e,t,i,s,l,o){const n=(0,a.up)("MediaItem"),r=(0,a.up)("EmptyView");return l.loaded&&0!==this.videos.length?((0,a.wg)(),(0,a.iD)("div",Ka,[this.appStore.displayType[this.$route.name]?((0,a.wg)(),(0,a.iD)("div",Va,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.videos,(e=>((0,a.wg)(),(0,a.j4)(n,{key:e.id,isCard:!1,media:e,downloadable:"video"==o.getMediaType(e),mediaType:o.getMediaType(e)},null,8,["media","downloadable","mediaType"])))),128))])):((0,a.wg)(),(0,a.iD)("div",qa,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.videos,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"col-md-3 col-sm-4 col-6",key:e.id},[(0,a.Wm)(n,{isCard:!0,media:e,downloadable:"video"==o.getMediaType(e),mediaType:o.getMediaType(e)},null,8,["media","downloadable","mediaType"])])))),128))]))])):l.loaded?((0,a.wg)(),(0,a.iD)("div",Ga,[(0,a.Wm)(r,{message:o.getEmptyText()},null,8,["message"])])):(0,a.kq)("",!0)}const Ua={key:0,class:"card"},za={key:0,class:"media-img-top"},Qa={class:"media-overlay"},Za=["src"],Ja={key:2,class:"resolution"},Xa=["src"],el=["src"],tl=["src"],il={class:"card-progress-container"},sl=(0,a._)("div",{class:"card-progress full"},null,-1),al=["src","title"],ll={class:"d-flex align-items-end"},ol={class:"card-body media-text flex1"},nl=["title"],rl={key:1,class:"d-flex clickable media-img-list-tr"},dl={key:0,class:"media-img-list"},cl={class:"media-overlay"},pl=["src"],ul={key:2,class:"resolution"},ml=["src"],gl=["src"],hl=["src"],yl={class:"card-progress-container"},wl=(0,a._)("div",{class:"card-progress full"},null,-1),fl={class:"card-title text-truncate"};function vl(e,t,i,o,n,r){const d=(0,a.up)("MediaItemMenu"),c=(0,a.Q2)("lazy");return i.isCard?((0,a.wg)(),(0,a.iD)("div",Ua,[(0,a._)("div",{onClick:t[1]||(t[1]=(...e)=>r.manageClick&&r.manageClick(...e)),class:(0,l.C_)(["ratio clickable",r.mainImgClasses()])},["file"==this.mediaType?(0,a.wy)(((0,a.wg)(),(0,a.iD)("img",za,null,512)),[[c,e.$getImageUrl(i.media,`${i.media.fileType}_big`)]]):(0,a.wy)(((0,a.wg)(),(0,a.iD)("img",{key:1,class:(0,l.C_)(["media-img-top","new-stream"==this.mediaType?"tint":""])},null,2)),[[c,e.$getImageUrl(i.media,`${this.mediaType}_big`)]]),(0,a.wy)((0,a._)("div",Qa,[(0,a._)("img",{class:"overlay-play",src:r.isOpenable()?"./icons/open.svg":"./icons/play_circle_white.svg",width:"48"},null,8,Za)],512),[[s.F8,!r.isBrowse()]]),"video"==i.mediaType&&""!=i.media.resolution?((0,a.wg)(),(0,a.iD)("span",Ja,(0,l.zw)(i.media.resolution),1)):(0,a.kq)("",!0),(0,a.wy)((0,a._)("img",{class:"played",src:"./icons/played.svg"},null,8,Xa),[[s.F8,i.media.played&&"video"==i.mediaType&&!i.forceAudio]]),(0,a.wy)((0,a._)("img",{class:"forced-audio",src:"./icons/audiotrack.svg"},null,8,el),[[s.F8,i.forceAudio]]),(0,a.wy)((0,a._)("img",{class:"favorite",src:"./icons/favorite.svg"},null,8,tl),[[s.F8,i.media.favorite]]),(0,a.wy)((0,a._)("div",il,[sl,(0,a._)("div",{class:"card-progress",style:(0,l.j5)(r.getProgressStyle())},null,4)],512),[[s.F8,i.media.progress>0]]),(0,a.wy)((0,a._)("div",{class:"item-play",onClick:t[0]||(t[0]=(0,s.iM)((t=>e.$play(i.media,this.mediaType,!1,!1)),["stop"]))},[(0,a._)("img",{class:"image-button-image",src:"./icons/play_item.svg",title:e.$t("PLAY")},null,8,al)],512),[[s.F8,r.isPlayable()]])],2),(0,a._)("div",ll,[(0,a._)("div",ol,[(0,a._)("h6",{class:"text-truncate","data-bs-toggle":"tooltip","data-bs-placement":"left",title:i.media.title},(0,l.zw)(i.media.title),9,nl),(0,a._)("p",{class:(0,l.C_)(["card-text text-truncate subtitle",this.getDescription()?"":"empty-desc"])},(0,l.zw)(r.getDescription()),3)]),(0,a.Wm)(d,{media:i.media,downloadable:i.downloadable,mediaType:this.forceAudio?"track":this.mediaType},null,8,["media","downloadable","mediaType"])])])):((0,a.wg)(),(0,a.iD)("div",rl,[(0,a._)("div",{onClick:t[2]||(t[2]=(...e)=>r.manageClick&&r.manageClick(...e)),class:(0,l.C_)(["ratio media-img-container",r.mainImgClasses()])},["file"==this.mediaType?(0,a.wy)(((0,a.wg)(),(0,a.iD)("img",dl,null,512)),[[c,e.$getImageUrl(i.media,i.media.fileType)]]):(0,a.wy)(((0,a.wg)(),(0,a.iD)("img",{key:1,class:(0,l.C_)(["media-img-list","new-stream"==this.mediaType?"tint":""])},null,2)),[[c,e.$getImageUrl(i.media,this.mediaType)]]),(0,a.wy)((0,a._)("div",cl,[(0,a._)("img",{class:"overlay-play",src:r.isOpenable()?"./icons/open.svg":"./icons/play_circle_white.svg",width:"32"},null,8,pl)],512),[[s.F8,!r.isBrowse()]]),"video"==i.mediaType&&""!=i.media.resolution?((0,a.wg)(),(0,a.iD)("span",ul,(0,l.zw)(i.media.resolution),1)):(0,a.kq)("",!0),(0,a.wy)((0,a._)("img",{class:"played",src:"./icons/played.svg"},null,8,ml),[[s.F8,i.media.played&&"video"==i.mediaType&&!i.forceAudio]]),(0,a.wy)((0,a._)("img",{class:"forced-audio",src:"./icons/audiotrack.svg"},null,8,gl),[[s.F8,i.forceAudio]]),(0,a.wy)((0,a._)("img",{class:"favorite",src:"./icons/favorite.svg"},null,8,hl),[[s.F8,i.media.favorite]]),(0,a.wy)((0,a._)("div",yl,[wl,(0,a._)("div",{class:"card-progress",style:(0,l.j5)(r.getProgressStyle())},null,4)],512),[[s.F8,i.media.progress>0]])],2),(0,a._)("div",{onClick:t[3]||(t[3]=(...e)=>r.manageClick&&r.manageClick(...e)),class:"card-body media-text flex1"},[(0,a._)("h6",fl,(0,l.zw)(i.media.title),1),(0,a._)("p",{class:(0,l.C_)(["card-text text-truncate subtitle",this.getDescription()?"":"empty-desc empty-desc-list"])},(0,l.zw)(r.getDescription()),3)]),(0,a.Wm)(d,{media:i.media,downloadable:i.downloadable,mediaType:this.forceAudio?"track":this.mediaType},null,8,["media","downloadable","mediaType"])]))}const bl={class:"dropdown dropstart overlay-more-container"},_l={class:"dropdown-menu media-more","aria-labelledby":"dropdownMenuButton1"},kl={key:0},Sl=(0,a._)("hr",{class:"dropdown-divider"},null,-1),$l=[Sl],Tl={key:1},Dl={key:2},Il={key:3},El=(0,a._)("li",null,[(0,a._)("hr",{class:"dropdown-divider"})],-1);function xl(e,t,i,l,o,n){const r=(0,a.up)("ImageButton"),d=(0,a.Q2)("t");return(0,a.wy)(((0,a.wg)(),(0,a.iD)("div",bl,[(0,a.Wm)(r,{type:"more_vert",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false"}),(0,a._)("ul",_l,[(0,a._)("li",null,[(0,a.wy)((0,a._)("span",{onClick:t[0]||(t[0]=t=>e.$play(i.media,this.mediaType,!1,!1)),class:"dropdown-item"},null,512),[[d,"PLAY"]])]),(0,a._)("li",null,[(0,a.wy)((0,a._)("span",{onClick:t[1]||(t[1]=t=>e.$play(i.media,this.mediaType,!0,!1)),class:"dropdown-item"},null,512),[[d,"APPEND"]])]),(0,a._)("li",null,["video"==i.mediaType?(0,a.wy)(((0,a.wg)(),(0,a.iD)("span",{key:0,onClick:t[2]||(t[2]=t=>e.$play(i.media,this.mediaType,!1,!0)),class:"dropdown-item"},null,512)),[[d,"PLAY_AS_AUDIO"]]):(0,a.kq)("",!0)]),n.isFileOrFolder()?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("li",kl,$l)),n.isFileOrFolder()||i.media.favorite?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("li",Tl,[(0,a.wy)((0,a._)("span",{onClick:t[3]||(t[3]=t=>e.$favorite(i.media,this.mediaType,!0)),class:"dropdown-item"},null,512),[[d,"ADD_FAVORITE"]])])),!n.isFileOrFolder()&&i.media.favorite?((0,a.wg)(),(0,a.iD)("li",Dl,[(0,a.wy)((0,a._)("span",{onClick:t[4]||(t[4]=t=>e.$favorite(i.media,this.mediaType,!1)),class:"dropdown-item"},null,512),[[d,"REMOVE_FAVORITE"]])])):(0,a.kq)("",!0),n.isFileOrFolder()||"playlist"==i.mediaType?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("li",Il,[(0,a.wy)((0,a._)("span",{onClick:t[5]||(t[5]=e=>n.addToPlaylist(i.media,i.mediaType)),class:"dropdown-item"},null,512),[[d,"ADD_PLAYLIST"]])])),n.isFileOrFolder()?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)(a.HY,{key:4},[El,(0,a._)("li",null,[(0,a.wy)((0,a._)("span",{onClick:t[6]||(t[6]=t=>e.$download(i.media,this.mediaType,this.downloadable)),class:"dropdown-item"},null,512),[[d,"DOWNLOAD"]])])],64))])],512)),[[s.F8,!this.hideOverflow]])}var Al={computed:{...(0,Ve.Kc)(Ea)},components:{ImageButton:et},methods:{addToPlaylist(e,t){e.mediaType=t,this.addToPlaylistStore.mediaType=t,this.addToPlaylistStore.media=e},isFileOrFolder(){return"file"==this.mediaType||"folder"==this.mediaType}},props:{media:Object,downloadable:Boolean,mediaType:String,hideOverflow:{type:Boolean,default:!1}},mounted(){var e=[].slice.call(this.$el.querySelectorAll('[data-bs-toggle="tooltip"]'));e.map((function(e){return new ms.u(e,{trigger:"hover"})}))}};const Cl=(0,Je.Z)(Al,[["render",xl]]);var Pl=Cl,Ll={computed:{...(0,Ve.Kc)(Ea)},components:{MediaItemMenu:Pl},methods:{mainImgClasses(){return this.mediaType.startsWith("video")?"ratio-16x9 video audio-img-container":this.isBrowse()||"file"==this.mediaType?"ratio-1x1":"ratio-1x1 audio-img-container"},getProgressStyle(){return this.mediaType.startsWith("video")&&this.media.progress>0&&this.media.duration>0?`width: ${100*this.media.progress/this.media.duration}%`:""},isBrowse(){return"folder"==this.mediaType||"network"==this.mediaType||"stream"==this.mediaType||"new-stream"==this.mediaType},isPlayable(){return"album"==this.mediaType||"artist"==this.mediaType},isOpenable(){return["video-group","video-folder","artist","album","playlist","genre"].includes(this.mediaType)},getDescription(){return"video"!=this.mediaType||this.forceAudio?this.isCard&&" "==this.media.artist?" ":this.media.artist:`${this.$readableDuration(this.media.duration)}`},manageClick(){"genre"==this.mediaType?this.$router.push({name:"GenreDetails",params:{genreId:this.media.id}}):"playlist"==this.mediaType?this.$router.push({name:"PlaylistDetails",params:{playlistId:this.media.id}}):"album"==this.mediaType?this.$router.push({name:"AlbumDetails",params:{albumId:this.media.id}}):"artist"==this.mediaType?this.$router.push({name:"ArtistDetails",params:{artistId:this.media.id}}):"video-group"==this.mediaType?this.$router.push({name:"VideoGroupList",params:{groupId:this.media.id}}):"video-folder"==this.mediaType?this.$router.push({name:"VideoFolderList",params:{folderId:this.media.id}}):["folder","storage","network"].includes(this.mediaType)?this.$router.push({name:"BrowseChild",params:{browseId:this.media.path}}):this.$play(this.media,this.mediaType)},addToPlaylist(e,t){e.mediaType=t,this.addToPlaylistStore.media=e}},props:{media:Object,downloadable:Boolean,mediaType:String,forceAudio:Boolean,isCard:Boolean,hideOverflow:{type:Boolean,default:!1}},mounted(){var e=[].slice.call(this.$el.querySelectorAll('[data-bs-toggle="tooltip"]'));e.map((function(e){return new ms.u(e,{trigger:"hover"})}))}};const Ml=(0,Je.Z)(Ll,[["render",vl]]);var Ol=Ml,Rl={components:{EmptyView:xi,MediaItem:Ol},computed:{...(0,Ve.Kc)(je)},data(){return{videos:[],loaded:!1,forbidden:!1,videoGrouping:0}},methods:{fetchVideos(){let e=this;e.appStore.loading=!0,this.videoGrouping=this.appStore.videoGrouping;let t=this.$route.params.groupId,i=this.$route.params.folderId;Oa.get(At.videoList(this.appStore.videoGrouping,t,i)).catch((function(t){e.appStore.loading=!1,void 0!==t.response&&403==t.response.status&&(e.forbidden=!0)})).then((t=>{this.loaded=!0,t&&(e.forbidden=!1,this.videos=t.data.content,e.appStore.loading=!1,e.appStore.title=t.data.item)}))},getEmptyText(){return this.forbidden?this.$t("FORBIDDEN"):this.$t("NO_MEDIA")},getMediaType(e){return e.fileType?e.fileType:"video"}},watch:{$route(){this.loaded=!1,this.fetchVideos()}},mounted:function(){this.appStore.$subscribe(((e,t)=>{this.$log.log(`Something changed in the app store: ${JSON.stringify(t)}`),t.needRefresh&&(this.fetchVideos(),this.appStore.needRefresh=!1),this.videoGrouping!=this.appStore.videoGrouping&&(this.fetchVideos(),this.$log.log(`Grouping changed to : ${this.appStore.videoGrouping}`))}))},created:function(){this.fetchVideos()}};const Bl=(0,Je.Z)(Rl,[["render",ja]]);var Fl=Bl;const Wl={key:0,class:"container"},Nl={key:0,class:"row gx-3 gy-3 media-list"},Hl={key:1,class:"row gx-3 gy-3 media-content"},Yl={key:1,class:"empty-view-container"};function Kl(e,t,i,s,l,o){const n=(0,a.up)("MediaItem"),r=(0,a.up)("EmptyView");return l.loaded&&0!==this.playlists.length?((0,a.wg)(),(0,a.iD)("div",Wl,[this.appStore.displayType[this.$route.name]?((0,a.wg)(),(0,a.iD)("div",Nl,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.playlists,(e=>((0,a.wg)(),(0,a.j4)(n,{key:e.id,isCard:!1,media:e,mediaType:"playlist"},null,8,["media"])))),128))])):((0,a.wg)(),(0,a.iD)("div",Hl,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.playlists,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"col-md-3 col-lg-2 col-sm-4 col-6",key:e.id},[(0,a.Wm)(n,{isCard:!0,media:e,mediaType:"playlist"},null,8,["media"])])))),128))]))])):l.loaded?((0,a.wg)(),(0,a.iD)("div",Yl,[(0,a.Wm)(r,{message:o.getEmptyText()},null,8,["message"])])):(0,a.kq)("",!0)}var Vl={computed:{...(0,Ve.Kc)(je)},components:{MediaItem:Ol,EmptyView:xi},data(){return{playlists:[],loaded:!1,forbidden:!1}},methods:{fetchPlaylists(){let e=this;e.appStore.loading=!0,Oa.get(At.playlistList).catch((function(t){void 0!==t.response&&403==t.response.status&&(e.forbidden=!0)})).then((t=>{this.loaded=!0,t&&(e.forbidden=!1,this.playlists=t.data),e.appStore.loading=!1}))},getEmptyText(){return this.forbidden?this.$t("FORBIDDEN"):this.$t("NO_PLAYLIST")}},created:function(){this.fetchPlaylists()},mounted:function(){this.appStore.$subscribe(((e,t)=>{this.$log.log(`Something changed in the app store: ${JSON.stringify(t)}`),t.needRefresh&&(this.fetchPlaylists(),this.appStore.needRefresh=!1)}))}};const ql=(0,Je.Z)(Vl,[["render",Kl]]);var Gl=ql;const jl={class:"media-content text-primary"},Ul={key:0,class:"spinner-border text-primary mt-3",role:"status"},zl={class:"visually-hidden"},Ql={key:0,class:"row gx-3 gy-3 media-list"},Zl={key:1,class:"row gx-3 gy-3 media-content"},Jl={class:"col-md-3 col-lg-2 col-sm-4 col-6"},Xl={class:"media-content text-primary"},eo={key:2,class:"spinner-border text-primary mt-3",role:"status"},to={class:"visually-hidden"},io={key:3},so={key:0,class:"row gx-3 gy-3 media-list"},ao={key:1,class:"row gx-3 gy-3 media-content"};function lo(e,t,i,s,l,o){const n=(0,a.up)("MediaItem"),r=(0,a.up)("EmptyView"),d=(0,a.Q2)("t");return(0,a.wg)(),(0,a.iD)("div",{class:"container",onMlRefreshNeeded:t[0]||(t[0]=(...e)=>o.fetchStreams&&o.fetchStreams(...e))},[(0,a.wy)((0,a._)("h5",jl,null,512),[[d,"STREAMS"]]),l.streamsLoaded?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[this.appStore.displayType[this.$route.name]?((0,a.wg)(),(0,a.iD)("div",Ql,[(0,a.Wm)(n,{isCard:!1,media:l.newStream,mediaType:"new-stream",hideOverflow:!0},null,8,["media"]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.streams,(e=>((0,a.wg)(),(0,a.j4)(n,{key:e.id,isCard:!1,media:e,mediaType:"stream",hideOverflow:!0},null,8,["media"])))),128))])):((0,a.wg)(),(0,a.iD)("div",Zl,[(0,a._)("div",Jl,[(0,a.Wm)(n,{isCard:!0,media:l.newStream,mediaType:"new-stream",hideOverflow:!0},null,8,["media"])]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.streams,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"col-md-3 col-lg-2 col-sm-4 col-6",key:e.id},[(0,a.Wm)(n,{isCard:!0,media:e,mediaType:"stream",hideOverflow:!0},null,8,["media"])])))),128))]))],64)):((0,a.wg)(),(0,a.iD)("div",Ul,[(0,a.wy)((0,a._)("span",zl,null,512),[[d,"LOADING"]])])),(0,a.wy)((0,a._)("h5",Xl,null,512),[[d,"HISTORY"]]),l.historyLoaded?0==this.history.length?((0,a.wg)(),(0,a.iD)("div",io,[(0,a.Wm)(r,{message:o.getHistoryEmptyText()},null,8,["message"])])):((0,a.wg)(),(0,a.iD)(a.HY,{key:4},[this.appStore.displayType[this.$route.name]?((0,a.wg)(),(0,a.iD)("div",so,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.history,(e=>((0,a.wg)(),(0,a.j4)(n,{key:e.id,isCard:!1,media:e,mediaType:"video",forceAudio:"video"!=e.fileType,hideOverflow:!0},null,8,["media","forceAudio"])))),128))])):((0,a.wg)(),(0,a.iD)("div",ao,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.history,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"col-md-3 col-lg-2 col-sm-4 col-6",key:e.id},[(0,a.Wm)(n,{isCard:!0,media:e,mediaType:"video",forceAudio:"video"!=e.fileType,hideOverflow:!0},null,8,["media","forceAudio"])])))),128))]))],64)):((0,a.wg)(),(0,a.iD)("div",eo,[(0,a.wy)((0,a._)("span",to,null,512),[[d,"LOADING"]])]))],32)}var oo={computed:{...(0,Ve.Kc)(je,["needRefresh"],Ue)},components:{MediaItem:Ol,EmptyView:xi},data(){return{streams:[],history:[],streamsLoaded:!1,historyLoaded:!1,forbidden:!1,historyForbidden:!1,newStream:{artist:" ",artworkURL:"",id:-1,isFolder:!0,length:0,path:"",playing:!1,resolution:"",title:this.$t("NEW_STREAM")}}},watch:{needRefresh(){this.fetchStreams()}},methods:{fetchStreams(){let e=this;Oa.get(At.streamList).catch((function(t){void 0!==t.response&&403==t.response.status&&(e.forbidden=!0)})).then((t=>{this.streamsLoaded=!0,t&&(e.forbidden=!1,this.streams=t.data)}))},fetchHistory(){let e=this;Oa.get(At.history).catch((function(t){void 0!==t.response&&403==t.response.status&&(e.historyForbidden=!0)})).then((t=>{this.historyLoaded=!0,t&&(e.historyForbidden=!1,this.history=t.data)}))},getFileEmptyText(){return this.forbidden?this.$t("FORBIDDEN"):this.$t("DIRECTORY_EMPTY")},getHistoryEmptyText(){return this.historyForbidden?this.$t("FORBIDDEN"):this.$t("DIRECTORY_EMPTY")}},created:function(){this.fetchStreams(),this.fetchHistory()},mounted:function(){this.appStore.$subscribe(((e,t)=>{t.needRefresh&&(this.$log.log(`A stream has changed!! Reloading with: ${JSON.stringify(t)}`),this.fetchStreams(),this.appStore.needRefresh=!1)})),this.browserStore.$subscribe(((e,t)=>{t.descriptions.forEach((e=>{this.storages.forEach((t=>{t.path==e.path&&(t.artist=e.description)}))}))}))}};const no=(0,Je.Z)(oo,[["render",lo]]);var ro=no;const co={key:0,class:"container container-sm"},po={key:0,class:"row gx-3 gy-3 media-list"},uo={key:1,class:"row gx-3 gy-3 media-content"},mo={key:1,class:"empty-view-container"};function go(e,t,i,s,l,o){const n=(0,a.up)("MediaItem"),r=(0,a.up)("EmptyView");return l.loaded&&0!==this.artists.length?((0,a.wg)(),(0,a.iD)("div",co,[this.appStore.displayType[this.$route.name]?((0,a.wg)(),(0,a.iD)("div",po,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.artists,(e=>((0,a.wg)(),(0,a.j4)(n,{key:e.id,isCard:!1,media:e,mediaType:"artist"},null,8,["media"])))),128))])):((0,a.wg)(),(0,a.iD)("div",uo,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.artists,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"col-md-3 col-lg-2 col-sm-4 col-6",key:e.id},[(0,a.Wm)(n,{isCard:!0,media:e,mediaType:"artist"},null,8,["media"])])))),128))]))])):l.loaded?((0,a.wg)(),(0,a.iD)("div",mo,[(0,a.Wm)(r,{message:o.getEmptyText()},null,8,["message"])])):(0,a.kq)("",!0)}var ho={computed:{...(0,Ve.Kc)(je)},components:{MediaItem:Ol,EmptyView:xi},data(){return{artists:[],loaded:!1,forbidden:!1}},methods:{fetchArtists(){let e=this;e.appStore.loading=!0,Oa.get(At.artistList).catch((function(t){t.response&&void 0!==t.response&&403==t.response.status&&(e.forbidden=!0)})).then((t=>{this.loaded=!0,t&&(e.forbidden=!1,this.artists=t.data),e.appStore.loading=!1}))},getEmptyText(){return this.forbidden?this.$t("FORBIDDEN"):this.$t("NO_MEDIA")}},created:function(){this.fetchArtists()},mounted:function(){this.appStore.$subscribe(((e,t)=>{this.$log.log(`Something changed in the app store: ${JSON.stringify(t)}`),t.needRefresh&&(this.fetchArtists(),this.appStore.needRefresh=!1)}))}};const yo=(0,Je.Z)(ho,[["render",go]]);var wo=yo;const fo={key:0,class:"container"},vo={key:0,class:"row gx-3 gy-3 media-list"},bo={key:1,class:"row gx-3 gy-3 media-content"},_o={key:1,class:"empty-view-container"};function ko(e,t,i,s,l,o){const n=(0,a.up)("MediaItem"),r=(0,a.up)("EmptyView");return l.loaded&&0!==this.albums.length?((0,a.wg)(),(0,a.iD)("div",fo,[this.appStore.displayType[this.$route.name]?((0,a.wg)(),(0,a.iD)("div",vo,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.albums,(e=>((0,a.wg)(),(0,a.j4)(n,{key:e.id,isCard:!1,media:e,mediaType:"album"},null,8,["media"])))),128))])):((0,a.wg)(),(0,a.iD)("div",bo,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.albums,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"col-md-3 col-lg-2 col-sm-4 col-6",key:e.id},[(0,a.Wm)(n,{isCard:!0,media:e,mediaType:"album"},null,8,["media"])])))),128))]))])):l.loaded?((0,a.wg)(),(0,a.iD)("div",_o,[(0,a.Wm)(r,{message:o.getEmptyText()},null,8,["message"])])):(0,a.kq)("",!0)}var So={computed:{...(0,Ve.Kc)(je)},components:{MediaItem:Ol,EmptyView:xi},data(){return{albums:[],loaded:!1,forbidden:!1}},methods:{fetchAlbums(){let e=this;e.appStore.loading=!0,Oa.get(At.albumList).catch((function(t){void 0!==t.response&&403==t.response.status&&(e.forbidden=!0)})).then((t=>{this.loaded=!0,t&&(e.forbidden=!1,this.albums=t.data),e.appStore.loading=!1}))},getEmptyText(){return this.forbidden?this.$t("FORBIDDEN"):this.$t("NO_MEDIA")}},created:function(){this.fetchAlbums()},mounted:function(){this.appStore.$subscribe(((e,t)=>{this.$log.log(`Something changed in the app store: ${JSON.stringify(t)}`),t.needRefresh&&(this.fetchAlbums(),this.appStore.needRefresh=!1)}))}};const $o=(0,Je.Z)(So,[["render",ko]]);var To=$o;const Do={key:0,class:"container"},Io={key:0,class:"row gx-3 gy-3 media-list"},Eo={key:1,class:"row gx-3 gy-3 media-content"},xo={key:1,class:"empty-view-container"};function Ao(e,t,i,s,l,o){const n=(0,a.up)("MediaItem"),r=(0,a.up)("EmptyView");return l.loaded&&0!==this.tracks.length?((0,a.wg)(),(0,a.iD)("div",Do,[this.appStore.displayType[this.$route.name]?((0,a.wg)(),(0,a.iD)("div",Io,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.tracks,(e=>((0,a.wg)(),(0,a.j4)(n,{key:e.id,isCard:!1,media:e,downloadable:!0,mediaType:"track"},null,8,["media"])))),128))])):((0,a.wg)(),(0,a.iD)("div",Eo,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.tracks,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"col-md-3 col-lg-2 col-sm-4 col-6",key:e.id},[(0,a.Wm)(n,{isCard:!0,media:e,downloadable:!0,mediaType:"track"},null,8,["media"])])))),128))]))])):l.loaded?((0,a.wg)(),(0,a.iD)("div",xo,[(0,a.Wm)(r,{message:o.getEmptyText()},null,8,["message"])])):(0,a.kq)("",!0)}var Co={computed:{...(0,Ve.Kc)(je)},components:{MediaItem:Ol,EmptyView:xi},data(){return{tracks:[],loaded:!1,forbidden:!1}},methods:{fetchTracks(){let e=this;e.appStore.loading=!0,Oa.get(At.trackList).catch((function(t){void 0!==t.response&&403==t.response.status&&(e.forbidden=!0)})).then((t=>{this.loaded=!0,t&&(e.forbidden=!1,this.tracks=t.data),e.appStore.loading=!1}))},getEmptyText(){return this.forbidden?this.$t("FORBIDDEN"):this.$t("NO_MEDIA")}},created:function(){this.fetchTracks()},mounted:function(){this.appStore.$subscribe(((e,t)=>{this.$log.log(`Something changed in the app store: ${JSON.stringify(t)}`),t.needRefresh&&(this.fetchTracks(),this.appStore.needRefresh=!1)}))}};const Po=(0,Je.Z)(Co,[["render",Ao]]);var Lo=Po;const Mo={key:0,class:"container"},Oo={key:0,class:"row gx-3 gy-3 media-list"},Ro={key:1,class:"row gx-3 gy-3 media-content"},Bo={key:1,class:"empty-view-container"};function Fo(e,t,i,s,l,o){const n=(0,a.up)("MediaItem"),r=(0,a.up)("EmptyView");return l.loaded&&0!==this.genres.length?((0,a.wg)(),(0,a.iD)("div",Mo,[this.appStore.displayType[this.$route.name]?((0,a.wg)(),(0,a.iD)("div",Oo,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.genres,(e=>((0,a.wg)(),(0,a.j4)(n,{key:e.id,isCard:!1,media:e,mediaType:"genre"},null,8,["media"])))),128))])):((0,a.wg)(),(0,a.iD)("div",Ro,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.genres,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"col-md-3 col-lg-2 col-sm-4 col-6",key:e.id},[(0,a.Wm)(n,{isCard:!0,media:e,mediaType:"genre"},null,8,["media"])])))),128))]))])):l.loaded?((0,a.wg)(),(0,a.iD)("div",Bo,[(0,a.Wm)(r,{message:o.getEmptyText()},null,8,["message"])])):(0,a.kq)("",!0)}var Wo={computed:{...(0,Ve.Kc)(je)},components:{MediaItem:Ol,EmptyView:xi},data(){return{genres:[],loaded:!1,forbidden:!1}},methods:{fetchGenres(){let e=this;e.appStore.loading=!0,Oa.get(At.genreList).catch((function(t){void 0!==t.response&&403==t.response.status&&(e.forbidden=!0)})).then((t=>{this.loaded=!0,t&&(e.forbidden=!1,this.genres=t.data),e.appStore.loading=!1}))},getEmptyText(){return this.forbidden?this.$t("FORBIDDEN"):this.$t("NO_MEDIA")}},created:function(){this.fetchGenres()},mounted:function(){this.appStore.$subscribe(((e,t)=>{this.$log.log(`Something changed in the app store: ${JSON.stringify(t)}`),t.needRefresh&&(this.fetchGenres(),this.appStore.needRefresh=!1)}))}};const No=(0,Je.Z)(Wo,[["render",Fo]]);var Ho=No;const Yo={key:0,class:"container"},Ko={class:"row"},Vo={key:0},qo={key:1,class:"d-flex vertical center-page spinner",style:{margin:"0 auto"}},Go={key:1,class:"empty-view-container"};function jo(e,t,i,s,l,o){const n=(0,a.up)("LogList"),r=(0,a.up)("EmptyView");return l.loaded&&0!==this.logs.length?((0,a.wg)(),(0,a.iD)("div",Yo,[(0,a._)("div",Ko,[0!==this.logs.length?((0,a.wg)(),(0,a.iD)("div",Vo,[(0,a.Wm)(n,{logs:l.logs,onRefreshLogs:o.fetchLogs},null,8,["logs","onRefreshLogs"])])):((0,a.wg)(),(0,a.iD)("div",qo))])])):l.loaded?((0,a.wg)(),(0,a.iD)("div",Go,[(0,a.Wm)(r,{message:o.getEmptyText()},null,8,["message"])])):(0,a.kq)("",!0)}const Uo={class:"row media-content"},zo={class:"table-responsive card table-container"},Qo={class:"table table-hover table-no-margin"},Zo={class:"table-striped-columns"},Jo={class:"col-1 text-center align-middle",role:"columnheader",scope:"col"},Xo={class:"align-middle",role:"columnheader",scope:"col"},en={class:"text-center align-middle",role:"columnheader",scope:"col"};function tn(e,t,i,s,l,o){const n=(0,a.up)("LogItem"),r=(0,a.Q2)("t");return(0,a.wg)(),(0,a.iD)("div",Uo,[(0,a._)("div",zo,[(0,a._)("table",Qo,[(0,a._)("thead",null,[(0,a._)("tr",Zo,[(0,a.wy)((0,a._)("th",Jo,null,512),[[r,"LOG_TYPE"]]),(0,a.wy)((0,a._)("th",Xo,null,512),[[r,"LOG_FILE"]]),(0,a.wy)((0,a._)("th",en,null,512),[[r,"DOWNLOAD"]])])]),(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.logs,(i=>((0,a.wg)(),(0,a.iD)("tr",{key:i.path},[(0,a.Wm)(n,{logfile:i,onRefreshLogs:t[0]||(t[0]=t=>e.$emit("refresh-logs"))},null,8,["logfile"])])))),128))])])])])}const sn=["src","title"],an={key:0,class:"new"},ln=["href"],on={key:2,class:"spinner-border text-primary send-spinner",role:"status"},nn={class:"visually-hidden"};function rn(e,t,i,o,n,r){const d=(0,a.up)("ImageButton"),c=(0,a.Q2)("tooltip"),p=(0,a.Q2)("t");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("td",{class:(0,l.C_)(["align-middle text-center",{"current-log":""==i.logfile.path}])},[(0,a.wy)((0,a._)("img",{class:"image-button-image image-button",src:this.getImageByType(i.logfile.type),"data-bs-placement":"bottom",title:e.$t(this.getTitleByType(i.logfile.type))},null,8,sn),[[c]])],2),(0,a._)("td",{class:(0,l.C_)(["align-middle w-auto",{"current-log":""==i.logfile.path}])},[i.logfile.new?((0,a.wg)(),(0,a.iD)("span",an,"NEW")):(0,a.kq)("",!0),(0,a.Uk)(" "+(0,l.zw)(i.logfile.date),1)],2),(0,a._)("td",{class:(0,l.C_)(["text-center col-1",{"current-log":""==i.logfile.path}])},[""!=i.logfile.path?((0,a.wg)(),(0,a.iD)("a",{key:0,href:r.href,class:""},[(0,a.wy)((0,a.Wm)(d,{type:"file_download","data-bs-placement":"bottom",title:e.$t("DOWNLOAD")},null,8,["title"]),[[c]])],8,ln)):n.sending?((0,a.wg)(),(0,a.iD)("div",on,[(0,a.wy)((0,a._)("span",nn,null,512),[[p,"LOADING"]])])):(0,a.wy)(((0,a.wg)(),(0,a.j4)(d,{key:1,type:"file_upload",onClick:(0,s.iM)(r.downloadLocalLog,["stop"]),"data-bs-placement":"bottom",title:e.$t("SEND_LOGS")},null,8,["onClick","title"])),[[c]])],2)],64)}var dn=i(7192);const cn={run(e){let t={time:(new Date).getTime(),level:e.level,data:e.argumentArray},i=JSON.parse(localStorage.getItem("logs"));Array.isArray(i)||(i=[]),i.push(t);while(i.length>250)i.shift();localStorage.setItem("logs",JSON.stringify(i))}};let pn="info";const un=(0,dn.hu)({enabled:!0,level:pn,callerInfo:!0,consoleEnabled:!1,beforeHooks:[dn.QR],afterHooks:[cn]});var mn=un;function gn(){var e=JSON.parse(localStorage.getItem("logs"));return Oa.post(At.sendLogs,e,{headers:{"Content-Type":"multipart/form-data"}})}var hn={components:{ImageButton:et},emits:["refresh-logs"],props:{logfile:Object},data(){return{sending:!1}},computed:{href:function(){return`${At.downloadLog}`+this.logfile.path},iclass:function(){return"fa fa-"+this.type}},methods:{getImageByType(e){switch(e){case"web":return"./icons/web.svg";case"crash":return"./icons/crash.svg";default:return"./icons/mobile.svg"}},getTitleByType(e){switch(e){case"web":return"LOG_TYPE_WEB";case"crash":return"LOG_TYPE_CRASH";default:return"LOG_TYPE_MOBILE"}},downloadLocalLog(e){ms.u.getInstance(e.target).hide(),this.sending=!0,gn().then((()=>{this.sending=!1,this.$emit("refresh-logs")}))}}};const yn=(0,Je.Z)(hn,[["render",rn]]);var wn=yn,fn={components:{LogItem:wn},props:{logs:Array}};const vn=(0,Je.Z)(fn,[["render",tn]]);var bn=vn,_n={components:{LogList:bn,EmptyView:xi},computed:{...(0,Ve.Kc)(je)},data(){return{logs:[],loaded:!1}},methods:{fetchLogs(){let e=this;e.appStore.loading=!0,Oa.get(At.logfileList).catch((function(t){void 0!==t.response&&403==t.response.status&&(e.forbidden=!0)})).then((t=>{if(this.loaded=!0,t){e.forbidden=!1;let i=t.data;i.unshift({path:"",date:this.$t("LOG_TYPE_CURRENT"),type:"web"});let s=this.logs;0!=s.length&&i.forEach((e=>{s.some((t=>t.path==e.path))||(e.new=!0)})),this.logs=i}e.appStore.loading=!1}))},getEmptyText(){return this.forbidden?this.$t("FORBIDDEN"):this.$t("DIRECTORY_EMPTY")}},created:function(){this.fetchLogs()}};const kn=(0,Je.Z)(_n,[["render",jo]]);var Sn=kn;const $n={key:0,class:"container"},Tn={key:0,class:"row gx-3 gy-3 media-list"},Dn={key:1,class:"row gx-3 gy-3 media-content"},In={key:1,class:"empty-view-container"};function En(e,t,i,s,l,o){const n=(0,a.up)("MediaItem"),r=(0,a.up)("EmptyView");return l.loaded&&0!==this.browseResult.length?((0,a.wg)(),(0,a.iD)("div",$n,[this.appStore.displayType[this.$route.name]?((0,a.wg)(),(0,a.iD)("div",Tn,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.browseResult,(e=>((0,a.wg)(),(0,a.j4)(n,{key:e.id,isCard:!1,media:e,mediaType:e.isFolder?"folder":"file"},null,8,["media","mediaType"])))),128))])):((0,a.wg)(),(0,a.iD)("div",Dn,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.browseResult,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"col-md-3 col-lg-2 col-sm-4 col-6",key:e.id},[(0,a.Wm)(n,{isCard:!0,media:e,mediaType:e.isFolder?"folder":"file"},null,8,["media","mediaType"])])))),128))]))])):l.loaded?((0,a.wg)(),(0,a.iD)("div",In,[(0,a.Wm)(r,{message:e.$t("DIRECTORY_EMPTY")},null,8,["message"])])):(0,a.kq)("",!0)}var xn={computed:{...(0,Ve.Kc)(je),...(0,Ve.Kc)(Ue)},components:{MediaItem:Ol,EmptyView:xi},data(){return{browseResult:[],loaded:!1}},methods:{fetchContent(){this.browserStore.breadcrumb=[];let e=this;e.appStore.loading=!0,Oa.get(At.browseList(this.$route.params.browseId)).then((t=>{this.loaded=!0,this.browseResult=t.data.content,e.appStore.loading=!1,e.browserStore.breadcrumb=t.data.breadcrumb}))}},watch:{$route(e){void 0!==e.params.browseId?(this.browseResult=[],this.loaded=!1,this.fetchContent()):this.browserStore.breadcrumb=[]}},created:function(){this.fetchContent()},unmounted:function(){this.browserStore.breadcrumb=[],this.appStore.loading=!1,this.browserStore.descriptions=[]},mounted:function(){this.browserStore.$subscribe(((e,t)=>{t.descriptions.forEach((e=>{this.browseResult.forEach((t=>{t.path==e.path&&(t.artist=e.description)}))}))}))}};const An=(0,Je.Z)(xn,[["render",En]]);var Cn=An;const Pn={class:"container"},Ln={class:"media-content text-primary"},Mn={key:0,class:"spinner-border text-primary mt-3",role:"status"},On={class:"visually-hidden"},Rn={key:1},Bn={key:0,class:"row gx-3 gy-3 media-list"},Fn={key:1,class:"row gx-3 gy-3 media-content"},Wn={class:"container"},Nn={class:"media-content text-primary"},Hn={key:0,class:"spinner-border text-primary mt-3",role:"status"},Yn={class:"visually-hidden"},Kn={key:1},Vn={key:0,class:"row gx-3 gy-3 media-list"},qn={key:1,class:"row gx-3 gy-3 media-content"},Gn={class:"container"},jn={class:"media-content text-primary"},Un={key:0,class:"spinner-border text-primary mt-3",role:"status"},zn={class:"visually-hidden"},Qn={key:1},Zn={key:0,class:"row gx-3 gy-3 media-list"},Jn={key:1,class:"row gx-3 gy-3 media-content"};function Xn(e,t,i,s,l,o){const n=(0,a.up)("EmptyView"),r=(0,a.up)("MediaItem"),d=(0,a.Q2)("t");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",Pn,[(0,a.wy)((0,a._)("h5",Ln,null,512),[[d,"FAVORITES"]]),l.favoritesLoaded?0==this.favorites.length?((0,a.wg)(),(0,a.iD)("div",Rn,[(0,a.Wm)(n,{message:o.getFileEmptyText()},null,8,["message"])])):((0,a.wg)(),(0,a.iD)(a.HY,{key:2},[this.appStore.displayType[this.$route.name]?((0,a.wg)(),(0,a.iD)("div",Bn,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.favorites,(e=>((0,a.wg)(),(0,a.j4)(r,{key:e.id,isCard:!1,media:e,mediaType:"folder",hideOverflow:!0},null,8,["media"])))),128))])):((0,a.wg)(),(0,a.iD)("div",Fn,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.favorites,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"col-md-3 col-lg-2 col-sm-4 col-6",key:e.id},[(0,a.Wm)(r,{isCard:!0,media:e,mediaType:"folder",hideOverflow:!0},null,8,["media"])])))),128))]))],64)):((0,a.wg)(),(0,a.iD)("div",Mn,[(0,a.wy)((0,a._)("span",On,null,512),[[d,"LOADING"]])]))]),(0,a._)("div",Wn,[(0,a.wy)((0,a._)("h5",Nn,null,512),[[d,"STORAGES"]]),l.storagesLoaded?0==this.storages.length?((0,a.wg)(),(0,a.iD)("div",Kn,[(0,a.Wm)(n,{message:o.getFileEmptyText()},null,8,["message"])])):((0,a.wg)(),(0,a.iD)(a.HY,{key:2},[this.appStore.displayType[this.$route.name]?((0,a.wg)(),(0,a.iD)("div",Vn,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.storages,(e=>((0,a.wg)(),(0,a.j4)(r,{key:e.id,isCard:!1,media:e,mediaType:"folder",hideOverflow:!0},null,8,["media"])))),128))])):((0,a.wg)(),(0,a.iD)("div",qn,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.storages,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"col-md-3 col-lg-2 col-sm-4 col-6",key:e.id},[(0,a.Wm)(r,{isCard:!0,media:e,mediaType:"folder",hideOverflow:!0},null,8,["media"])])))),128))]))],64)):((0,a.wg)(),(0,a.iD)("div",Hn,[(0,a.wy)((0,a._)("span",Yn,null,512),[[d,"LOADING"]])]))]),(0,a._)("div",Gn,[(0,a.wy)((0,a._)("h5",jn,null,512),[[d,"LOCAL_NETWORK"]]),l.networkLoaded?0==this.networkEntries.length?((0,a.wg)(),(0,a.iD)("div",Qn,[(0,a.Wm)(n,{message:o.getNetworkEmptyText()},null,8,["message"])])):((0,a.wg)(),(0,a.iD)(a.HY,{key:2},[this.appStore.displayType[this.$route.name]?((0,a.wg)(),(0,a.iD)("div",Zn,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.networkEntries,(e=>((0,a.wg)(),(0,a.j4)(r,{key:e.id,isCard:!1,media:e,mediaType:"network",hideOverflow:!0},null,8,["media"])))),128))])):((0,a.wg)(),(0,a.iD)("div",Jn,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.networkEntries,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"col-md-3 col-lg-2 col-sm-4 col-6",key:e.id},[(0,a.Wm)(r,{isCard:!0,media:e,mediaType:"network",hideOverflow:!0},null,8,["media"])])))),128))]))],64)):((0,a.wg)(),(0,a.iD)("div",Un,[(0,a.wy)((0,a._)("span",zn,null,512),[[d,"LOADING"]])]))])],64)}var er={computed:{...(0,Ve.Kc)(je,["needRefresh"],Ue)},components:{MediaItem:Ol,EmptyView:xi},data(){return{favorites:[],storages:[],networkEntries:[],favoritesLoaded:!1,storagesLoaded:!1,networkLoaded:!1,forbidden:!1,networkForbidden:!1}},methods:{fetchFavorites(){let e=this;Oa.get(At.favoriteList).catch((function(t){void 0!==t.response&&403==t.response.status&&(e.forbidden=!0)})).then((t=>{this.favoritesLoaded=!0,t&&(e.forbidden=!1,this.favorites=t.data)}))},fetchStorages(){let e=this;Oa.get(At.storageList).catch((function(t){void 0!==t.response&&403==t.response.status&&(e.forbidden=!0)})).then((t=>{this.storagesLoaded=!0,t&&(e.forbidden=!1,this.storages=t.data)}))},fetchNetwork(){let e=this;Oa.get(At.networkList).catch((function(t){void 0!==t.response&&403==t.response.status&&(e.networkForbidden=!0)})).then((t=>{this.networkLoaded=!0,t&&(e.networkForbidden=!1,this.networkEntries=t.data)}))},getFileEmptyText(){return this.forbidden?this.$t("FORBIDDEN"):this.$t("DIRECTORY_EMPTY")},getNetworkEmptyText(){return this.networkForbidden?this.$t("FORBIDDEN"):this.$t("DIRECTORY_EMPTY")}},created:function(){this.fetchFavorites(),this.fetchStorages(),this.fetchNetwork()},mounted:function(){this.browserStore.$subscribe(((e,t)=>{t.descriptions.forEach((e=>{this.storages.forEach((t=>{t.path==e.path&&(t.artist=e.description)}))}))}))}};const tr=(0,Je.Z)(er,[["render",Xn]]);var ir=tr;const sr={class:"container mt-3"},ar={class:"d-flex align-items-center justify-content-center"},lr=["placeholder"],or={key:0},nr={key:0,class:"container"},rr={class:"media-content text-primary"},dr={class:"row gx-3 gy-3 media-list"},cr={key:1,class:"container"},pr={class:"media-content text-primary"},ur={class:"row gx-3 gy-3 media-list"},mr={key:2,class:"container"},gr={class:"media-content text-primary"},hr={class:"row gx-3 gy-3 media-list"},yr={key:3,class:"container"},wr={class:"media-content text-primary"},fr={class:"row gx-3 gy-3 media-list"},vr={key:4,class:"container"},br={class:"media-content text-primary"},_r={class:"row gx-3 gy-3 media-list"},kr={key:5,class:"container"},Sr={class:"media-content text-primary"},$r={class:"row gx-3 gy-3 media-list"},Tr={key:1};function Dr(e,t,i,l,o,n){const r=(0,a.up)("ImageButton"),d=(0,a.up)("MediaItem"),c=(0,a.up)("EmptyView"),p=(0,a.Q2)("t");return(0,a.wg)(),(0,a.iD)("div",sr,[(0,a._)("div",ar,[(0,a._)("input",{type:"text",id:"searchInput",class:"search-input",ref:"searchText",placeholder:e.$t("SEARCH_HINT"),"aria-labelledby":"passwordHelpBlock",onKeydown:t[0]||(t[0]=(0,s.D2)(((...e)=>n.onPressEnter&&n.onPressEnter(...e)),["enter"]))},null,40,lr),(0,a.Wm)(r,{type:"search","data-bs-toggle":"tooltip","data-bs-placement":"bottom",title:e.$t("SEARCH"),onClick:t[1]||(t[1]=e=>n.loadResults())},null,8,["title"])]),this.forbidden||n.emptyResults()?o.loaded?((0,a.wg)(),(0,a.iD)("div",Tr,[(0,a.Wm)(c,{message:n.getEmptyText()},null,8,["message"])])):(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",or,[0!==this.results.videos.length?((0,a.wg)(),(0,a.iD)("div",nr,[(0,a.wy)((0,a._)("h5",rr,null,512),[[p,"VIDEO"]]),(0,a._)("div",dr,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.results.videos,(e=>((0,a.wg)(),(0,a.j4)(d,{key:e.id,isCard:!1,media:e,mediaType:"video"},null,8,["media"])))),128))])])):(0,a.kq)("",!0),0!==this.results.tracks.length?((0,a.wg)(),(0,a.iD)("div",cr,[(0,a.wy)((0,a._)("h5",pr,null,512),[[p,"TRACKS"]]),(0,a._)("div",ur,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.results.videos,(e=>((0,a.wg)(),(0,a.j4)(d,{key:e.id,isCard:!1,media:e,mediaType:"video"},null,8,["media"])))),128))])])):(0,a.kq)("",!0),0!==this.results.albums.length?((0,a.wg)(),(0,a.iD)("div",mr,[(0,a.wy)((0,a._)("h5",gr,null,512),[[p,"ALBUMS"]]),(0,a._)("div",hr,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.results.albums,(e=>((0,a.wg)(),(0,a.j4)(d,{key:e.id,isCard:!1,media:e,mediaType:"album"},null,8,["media"])))),128))])])):(0,a.kq)("",!0),0!==this.results.artists.length?((0,a.wg)(),(0,a.iD)("div",yr,[(0,a.wy)((0,a._)("h5",wr,null,512),[[p,"ARTISTS"]]),(0,a._)("div",fr,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.results.artists,(e=>((0,a.wg)(),(0,a.j4)(d,{key:e.id,isCard:!1,media:e,mediaType:"artist"},null,8,["media"])))),128))])])):(0,a.kq)("",!0),0!==this.results.genres.length?((0,a.wg)(),(0,a.iD)("div",vr,[(0,a.wy)((0,a._)("h5",br,null,512),[[p,"GENRES"]]),(0,a._)("div",_r,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.results.genres,(e=>((0,a.wg)(),(0,a.j4)(d,{key:e.id,isCard:!1,media:e,mediaType:"genre"},null,8,["media"])))),128))])])):(0,a.kq)("",!0),0!==this.results.playlists.length?((0,a.wg)(),(0,a.iD)("div",kr,[(0,a.wy)((0,a._)("h5",Sr,null,512),[[p,"PLAYLISTS"]]),(0,a._)("div",$r,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.results.playlists,(e=>((0,a.wg)(),(0,a.j4)(d,{key:e.id,isCard:!1,media:e,mediaType:"playlist"},null,8,["media"])))),128))])])):(0,a.kq)("",!0)]))])}var Ir={computed:{...(0,Ve.Kc)(je)},components:{MediaItem:Ol,EmptyView:xi,ImageButton:et},data(){return{results:(0,qe.qj)({albums:[],artists:[],genres:[],playlists:[],videos:[],tracks:[]}),loaded:!1,forbidden:!1}},methods:{onPressEnter(){this.loadResults()},emptyResults(){return 0==this.results.albums.length&&0==this.results.artists.length&&0==this.results.genres.length&&0==this.results.playlists.length&&0==this.results.videos.length&&0==this.results.tracks.length},loadResults(){let e=this;e.appStore.loading=!0,Oa.get(At.search(this.$refs.searchText.value)).catch((function(t){void 0!==t.response&&403==t.response.status&&(e.forbidden=!0)})).then((t=>{this.loaded=!0,t&&(e.forbidden=!1,this.results=t.data),e.appStore.loading=!1}))},getEmptyText(){return this.forbidden?this.$t("FORBIDDEN"):this.$t("SEARCH_NO_RESULT")}},mounted:function(){this.$nextTick((()=>{this.$refs.searchText.focus()}))}};const Er=(0,Je.Z)(Ir,[["render",Dr]]);var xr=Er;const Ar=["action"],Cr={class:"container"},Pr={class:"modal fade",id:"loginModal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"loginModalLabel","aria-hidden":"true"},Lr={class:"modal-dialog modal-fullscreen"},Mr={class:"modal-content"},Or={class:"modal-body"},Rr={class:"container"},Br={class:"text-center explanation"},Fr={class:"text-danger text-center fs-5 text fw-bold"},Wr={class:"text-center digits"},Nr={class:"text-center"},Hr={class:"text-center"};function Yr(e,t,i,l,o,n){const r=(0,a.Q2)("t");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("form",{action:n.getFormUrl(),method:"post",ref:"form",autocomplete:"off"},null,8,Ar),(0,a._)("div",Cr,[(0,a._)("div",Pr,[(0,a._)("div",Lr,[(0,a._)("div",Mr,[(0,a._)("div",Or,[(0,a._)("div",Rr,[(0,a.wy)((0,a._)("h5",Br,null,512),[[r,"CODE_REQUEST_EXPLANATION"]]),(0,a.wy)((0,a._)("p",Fr,null,512),[[s.F8,this.$route.meta.showError],[r,"INVALID_OTP"]]),(0,a._)("div",Wr,[(0,a._)("input",{autocomplete:"new-password",pattern:"[0-9]*",inputmode:"numeric",class:"digit text-center",type:"password",required:"",ref:"digit0",id:"digit0",size:"1",maxlength:"1",tabindex:"1",onInput:t[0]||(t[0]=(...e)=>n.manageInput&&n.manageInput(...e)),onKeydown:t[1]||(t[1]=e=>n.handleKeyDown(e,0))},null,544),(0,a._)("input",{autocomplete:"new-password",pattern:"[0-9]*",inputmode:"numeric",class:"digit text-center",type:"password",required:"",ref:"digit1",id:"digit1",size:"1",maxlength:"1",tabindex:"2",onInput:t[2]||(t[2]=(...e)=>n.manageInput&&n.manageInput(...e)),onKeydown:t[3]||(t[3]=e=>n.handleKeyDown(e,1))},null,544),(0,a._)("input",{autocomplete:"new-password",pattern:"[0-9]*",inputmode:"numeric",class:"digit text-center",type:"password",required:"",ref:"digit2",id:"digit2",size:"1",maxlength:"1",tabindex:"3",onInput:t[4]||(t[4]=(...e)=>n.manageInput&&n.manageInput(...e)),onKeydown:t[5]||(t[5]=e=>n.handleKeyDown(e,2))},null,544),(0,a._)("input",{autocomplete:"new-password",pattern:"[0-9]*",inputmode:"numeric",class:"digit text-center",type:"password",required:"",ref:"digit3",id:"digit3",size:"1",maxlength:"1",tabindex:"4",onInput:t[6]||(t[6]=(...e)=>n.manageInput&&n.manageInput(...e)),onKeydown:t[7]||(t[7]=e=>n.handleKeyDown(e,3))},null,544)]),(0,a._)("div",Nr,[(0,a.wy)((0,a._)("button",{type:"button",class:"btn btn-primary action-btn btn-lg",tabindex:"5",onClick:t[8]||(t[8]=(...e)=>n.manageClick&&n.manageClick(...e)),ref:"send"},null,512),[[r,"SEND"]])]),(0,a._)("div",Hr,[(0,a.wy)((0,a._)("button",{type:"button",class:"btn btn-primary action-btn btn-light",tabindex:"6",onClick:t[9]||(t[9]=e=>n.generateCode(!0))},null,512),[[r,"NEW_CODE"]])])])])])])])])],64)}var Kr=i(8451),Vr={components:{},computed:{...(0,Ve.Kc)(je)},data(){return{modal:null,challenge:"",inputs:[this.$refs.digit1,this.$refs.digit2,this.$refs.digit3,this.$refs.digit4]}},methods:{handleKeyDown(e,t){if(this.inputs=[this.$refs.digit0,this.$refs.digit1,this.$refs.digit2,this.$refs.digit3],"Tab"!==e.key&&"ArrowRight"!==e.key&&"ArrowLeft"!==e.key&&e.preventDefault(),"Backspace"!==e.key)new RegExp("^([0-9])$").test(e.key)&&(e.target.value=e.key,this.manageInput(e));else{if(""!==e.target.value)return void(e.target.value="");let i=t-1;i>=0&&(console.log(`Resetting input at index ${i}`),this.inputs[i].value="",this.inputs[i].focus())}},getFormUrl(){return At.verifyCode},manageClick(){let e=this.$refs.form,t="";t+=this.$refs.digit0.value,t+=this.$refs.digit1.value,t+=this.$refs.digit2.value,t+=this.$refs.digit3.value,t+=this.challenge;var i=document.createElement("input");i.type="hidden",i.name="code",i.value=(0,Kr.sha256)(t),e.appendChild(i),e.submit()},manageInput(e){if(e.target.value.length>0)switch(e.target.id){case"digit0":this.$refs.digit1.focus();break;case"digit1":this.$refs.digit2.focus();break;case"digit2":this.$refs.digit3.focus();break;default:this.$refs.send.focus()}},generateCode(e){let t=this,i={challenge:""};e&&(i={challenge:this.challenge}),Oa.post(At.code,i,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((e=>{this.loaded=!0,e&&(t.forbidden=!1,this.challenge=e.data),t.appStore.loading=!1}))}},mounted:function(){this.appStore.loading=!1,this.modal=new ms.u_(document.getElementById("loginModal"),{}),this.generateCode(!1);let e=this;document.getElementById("loginModal").addEventListener("shown.bs.modal",(function(){e.$refs.digit0.focus()})),this.modal.show()},unmounted:function(){this.modal.hide()}};const qr=(0,Je.Z)(Vr,[["render",Yr]]);var Gr=qr;const jr={class:"container"},Ur={class:"modal fade",id:"exampleModal",tabindex:"-1","data-bs-backdrop":"static","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},zr={class:"modal-dialog"},Qr={class:"modal-content"},Zr={class:"modal-header"},Jr=["src"],Xr={class:"modal-title fs-5 ssl-title",id:"exampleModalLabel"},ed={class:"modal-body"},td={class:"ssl-explanation"},id={class:"fw-bold ssl-explanation"},sd={class:"ssl-explanation"},ad={class:"modal-footer"},ld={href:"https://docs.videolan.me/vlc-user/android/3.5/en/more/remoteaccess/remote_access_ssl.html",target:"_blank",class:"link-primary"};function od(e,t,i,s,l,o){const n=(0,a.Q2)("t");return(0,a.wg)(),(0,a.iD)("div",jr,[(0,a._)("div",Ur,[(0,a._)("div",zr,[(0,a._)("div",Qr,[(0,a._)("div",Zr,[(0,a._)("img",{class:"image-button-image",src:"./icons/security_warning.svg"},null,8,Jr),(0,a.wy)((0,a._)("h1",Xr,null,512),[[n,"SSL_EXPLANATION_TITLE"]])]),(0,a._)("div",ed,[(0,a.wy)((0,a._)("p",td,null,512),[[n,"SSL_EXPLANATION"]]),(0,a.wy)((0,a._)("p",id,null,512),[[n,"SSL_EXPLANATION_BROWSER"]]),(0,a.wy)((0,a._)("p",sd,null,512),[[n,"SSL_EXPLANATION_ACCEPT"]])]),(0,a._)("div",ad,[(0,a.wy)((0,a._)("a",ld,null,512),[[n,"LEARN_MORE"]]),(0,a.wy)((0,a._)("button",{type:"button",class:"btn btn-primary",onClick:t[0]||(t[0]=e=>o.secureConnection())},null,512),[[n,"SSL_BUTTON"]])])])])])])}var nd={components:{},computed:{},data(){return{modal:null,challenge:""}},methods:{secureConnection(){let e=this;Oa.get(At.secureUrl).catch((function(t){void 0!==t.response&&403==t.response.status&&(e.forbidden=!0)})).then((e=>{e&&(location.href=e.data)}))}},mounted:function(){this.modal=new ms.u_(document.getElementById("exampleModal"),{}),this.modal.show()},unmounted:function(){this.modal.hide()}};const rd=(0,Je.Z)(nd,[["render",od]]);var dd=rd;const cd={class:"container"},pd={class:"media-content text-primary"},ud={class:"modal-body mt-4"},md={class:"table-responsive card"},gd={class:"table table-hover table-no-margin bottomless-table"},hd={class:"table-striped-columns"},yd={colspan:"2",role:"columnheader",scope:"col"},wd={scope:"col",class:"col-1"},fd={scope:"col",class:"col-4"},vd={scope:"col",class:"col-1"},bd={scope:"col",class:"col-4"},_d={class:"table-responsive card mt-4"},kd={class:"table table-hover table-no-margin bottomless-table"},Sd={class:"table-striped-columns"},$d={colspan:"2",role:"columnheader",scope:"col"},Td={scope:"col",class:"col-1"},Dd={scope:"col",class:"col-4"},Id={scope:"col",class:"col-1"},Ed={scope:"col",class:"col-4"},xd={class:"table-responsive card mt-4"},Ad={class:"table table-hover table-no-margin align-middle bottomless-table"},Cd={class:"table-striped-columns"},Pd={colspan:"3",role:"columnheader",scope:"col"},Ld={scope:"col",class:"col-1"},Md=["href"],Od={scope:"col",class:"col-3"},Rd={scope:"col",class:"col-1"};function Bd(e,t,i,s,o,n){const r=(0,a.Q2)("t");return(0,a.wg)(),(0,a.iD)("div",cd,[(0,a.wy)((0,a._)("h5",pd,null,512),[[r,"ABOUT"]]),(0,a._)("div",ud,[(0,a._)("div",md,[(0,a._)("table",gd,[(0,a._)("thead",null,[(0,a._)("tr",hd,[(0,a.wy)((0,a._)("th",yd,null,512),[[r,"REMOTE_ACCESS_TITLE"]])])]),(0,a._)("tbody",null,[(0,a._)("tr",null,[(0,a._)("td",wd,[(0,a.wy)((0,a._)("p",null,null,512),[[r,"REMOTE_ACCESS_VERSION_TITLE"]])]),(0,a._)("td",fd,[(0,a.wy)((0,a._)("p",null,null,512),[[r,"REMOTE_ACCESS_VERSION"]])])]),(0,a._)("tr",null,[(0,a._)("td",vd,[(0,a.wy)((0,a._)("p",null,null,512),[[r,"REMOTE_ACCESS_HASH_TITLE"]])]),(0,a._)("td",bd,[(0,a.wy)((0,a._)("p",null,null,512),[[r,"REMOTE_ACCESS_HASH"]])])])])])]),(0,a._)("div",_d,[(0,a._)("table",kd,[(0,a._)("thead",null,[(0,a._)("tr",Sd,[(0,a.wy)((0,a._)("th",$d,null,512),[[r,"CONNECTED_DEVICE"]])])]),(0,a._)("tbody",null,[(0,a._)("tr",null,[(0,a._)("td",Td,[(0,a.wy)((0,a._)("p",null,null,512),[[r,"DEVICE_MODEL"]])]),(0,a._)("td",Dd,[(0,a.wy)((0,a._)("p",null,null,512),[[r,"DEVICE_NAME"]])])]),(0,a._)("tr",null,[(0,a._)("td",Id,[(0,a.wy)((0,a._)("p",null,null,512),[[r,"VLC_VERSION"]])]),(0,a._)("td",Ed,[(0,a.wy)((0,a._)("p",null,null,512),[[r,"APP_VERSION"]])])])])])]),(0,a._)("div",xd,[(0,a._)("table",Ad,[(0,a._)("thead",null,[(0,a._)("tr",Cd,[(0,a.wy)((0,a._)("th",Pd,null,512),[[r,"LIBRARIES"]])])]),(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(this.librairies,(e=>((0,a.wg)(),(0,a.iD)("tr",{key:e.name},[(0,a._)("td",Ld,[(0,a._)("p",null,[(0,a._)("a",{href:e.link,target:"_blank"},(0,l.zw)(e.name),9,Md)])]),(0,a._)("td",Od,[(0,a._)("p",null,(0,l.zw)(e.copyright),1)]),(0,a._)("td",Rd,[(0,a._)("p",null,(0,l.zw)(e.license),1)])])))),128))])])])])])}var Fd={data(){return{librairies:[{name:"floating-ui/vue",link:"https://github.com/floating-ui/floating-ui",copyright:"Copyright (c) 2021 Floating UI contributors",license:"MIT"},{name:"vue",link:"https://github.com/vuejs/core",copyright:"Copyright (c) 2018-present, Yuxi (Evan) You and Vue contributors",license:"MIT"},{name:"axios",link:"https://github.com/axios/axios",copyright:"Copyright (c) 2014-present Matt Zabriskie & Collaborators",license:"MIT"},{name:"bootstrap",link:"https://github.com/twbs/bootstrap",copyright:"Copyright (c) 2011-2024 The Bootstrap Authors",license:"MIT"},{name:"js-sha256",link:"https://github.com/emn178/js-sha256",copyright:"Copyright (c) 2014-2024 Chen, Yi-Cyuan",license:"MIT"},{name:"pinia",link:"https://github.com/vuejs/pinia",copyright:"Copyright (c) 2019-present Eduardo San Martin Morote",license:"MIT"},{name:"vue-i18n",link:"https://github.com/intlify/vue-i18n",copyright:"Copyright (c) 2016 kazuya kawaguchi",license:"MIT"},{name:"vue-lazyload",link:"https://github.com/hilongjw/vue-lazyload",copyright:"Copyright (c) 2016 Awe",license:"MIT"},{name:"vue-logger-plugin",link:"https://github.com/dev-tavern/vue-logger-plugin",copyright:"Copyright (c) 2020 devtavern",license:"MIT"}]}}};const Wd=(0,Je.Z)(Fd,[["render",Bd]]);var Nd=Wd;const Hd={key:0,class:"container"},Yd={key:0,class:"row gx-3 gy-3 media-list"},Kd={key:1,class:"row gx-3 gy-3 media-content"},Vd={key:1,class:"empty-view-container"};function qd(e,t,i,s,l,o){const n=(0,a.up)("MediaItem"),r=(0,a.up)("EmptyView");return l.loaded&&0!==this.tracks.length?((0,a.wg)(),(0,a.iD)("div",Hd,[this.appStore.displayType[this.$route.name]?((0,a.wg)(),(0,a.iD)("div",Yd,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.tracks,(e=>((0,a.wg)(),(0,a.j4)(n,{key:e.id,isCard:!1,media:e,downloadable:!0,mediaType:o.getMediaType(),forceAudio:"PlaylistDetails"==this.$route.name&&"video"!=e.fileType},null,8,["media","mediaType","forceAudio"])))),128))])):((0,a.wg)(),(0,a.iD)("div",Kd,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.tracks,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"col-md-3 col-lg-2 col-sm-4 col-6",key:e.id},[(0,a.Wm)(n,{isCard:!0,media:e,downloadable:!0,mediaType:o.getMediaType(),forceAudio:"PlaylistDetails"==this.$route.name&&"video"!=e.fileType},null,8,["media","mediaType","forceAudio"])])))),128))]))])):l.loaded?((0,a.wg)(),(0,a.iD)("div",Vd,[(0,a.Wm)(r,{message:o.getEmptyText()},null,8,["message"])])):(0,a.kq)("",!0)}var Gd={computed:{...(0,Ve.Kc)(je)},components:{MediaItem:Ol,EmptyView:xi},data(){return{tracks:[],loaded:!1,forbidden:!1}},methods:{fetchTracks(){let e=this;e.appStore.loading=!0;let t="";switch(this.$route.name){case"VideoGroupList":case"VideoFolderList":t=At.videoList(this.appStore.videoGrouping,this.$route.params.groupId,this.$route.params.folderId);break;case"ArtistDetails":t=At.artistDetails(this.$route.params.artistId);break;case"AlbumDetails":t=At.albumDetails(this.$route.params.albumId);break;case"GenreDetails":t=At.genreDetails(this.$route.params.genreId);break;case"PlaylistDetails":t=At.playlistDetails(this.$route.params.playlistId);break}Oa.get(t).catch((function(t){void 0!==t.response&&403==t.response.status&&(e.forbidden=!0)})).then((t=>{if(this.loaded=!0,t)switch(e.forbidden=!1,this.$route.name){case"VideoGroupList":case"VideoFolderList":this.tracks=t.data.content;break;case"ArtistDetails":this.tracks=t.data.albums;break;default:this.tracks=t.data.tracks;break}e.appStore.loading=!1,e.appStore.title=t.data.name}))},getEmptyText(){return this.forbidden?this.$t("FORBIDDEN"):this.$t("NO_MEDIA")},getMediaType(){switch(this.$route.name){case"PlaylistDetails":return"video";case"ArtistDetails":return"album";default:return"track"}}},created:function(){this.fetchTracks()},unmounted:function(){console.log("unmounted"),this.appStore.title=""}};const jd=(0,Je.Z)(Gd,[["render",qd]]);var Ud=jd;const zd="android",Qd={vlc:"ic_icon",video:"ic_video",folder:"ic_folder",playlist:"ic_playlist",more:"ic_nav_more",audio:"ic_menu_audio",group:"ic_group",playAll:"ic_play_all",resumePlayback:"ic_resume_playback",artist:"ic_no_artist",album:"ic_album",genre:"ic_genre",empty:"ic_empty"},Zd={vlc:"ic_icon",video:"ic_video",folder:"ic_folder",playlist:"ic_playlist",more:"ic_nav_more",audio:"ic_menu_audio",group:"ic_group",playAll:"ic_ctx_play_all",resumePlayback:"ic_resume_playback",artist:"ic_no_artist",album:"ic_album",genre:"ic_genre",empty:"ic_empty"};function Jd(){switch(zd){case"desktop":return Zd;default:return Qd}}const Xd={vlcIcon:Jd().vlc,videoIcon:Jd().video,folderIcon:Jd().folder,playlistIcon:Jd().playlist,moreIcon:Jd().more,audioIcon:Jd().audio,groupIcon:Jd().group,playAllIcon:Jd().playAll,resumePlaybackIcon:Jd().resumePlayback,artistIcon:Jd().artist,albumIcon:Jd().album,genreIcon:Jd().genre,emptyIcon:Jd().empty},ec=[{path:"/",redirect:"/videos",name:"Home"},{path:"/videos",name:"Video",children:[{path:"",component:Fl,name:"VideoList",meta:{showDisplayBar:!0,showResume:!0,showGrouping:!0}},{path:"group/:groupId",component:Fl,name:"VideoGroupList",meta:{showDisplayBar:!0,showFAB:!0,playAllType:"video-group",icon:Xd.videoIcon}},{path:"folder/:folderId",component:Fl,name:"VideoFolderList",meta:{showDisplayBar:!0,showFAB:!0,playAllType:"video-folder",icon:Xd.folderIcon}}]},{path:"/audio",redirect:"/audio/artists",name:"AudioArtists",children:[{path:"artists",component:wo,name:"AudioArtists",meta:{showDisplayBar:!0,isAudio:!0,showResume:!0,showGrouping:!1}},{path:"albums",component:To,name:"AudioAlbums",meta:{showDisplayBar:!0,isAudio:!0,showResume:!0,showGrouping:!1}},{path:"tracks",component:Lo,name:"AudioTracks",meta:{showDisplayBar:!0,isAudio:!0,showResume:!0,showGrouping:!1,showFAB:!0,playAllType:"tracks"}},{path:"genres",component:Ho,name:"AudioGenres",meta:{showDisplayBar:!0,isAudio:!0,showResume:!0,showGrouping:!1}},{path:"artist/:artistId",component:Ud,name:"ArtistDetails",meta:{showDisplayBar:!0,isAudio:!1,showResume:!1,showGrouping:!1,showFAB:!0,playAllType:"artist",icon:Xd.artistIcon}},{path:"album/:albumId",component:Ud,name:"AlbumDetails",meta:{showDisplayBar:!0,isAudio:!1,showResume:!1,showGrouping:!1,showFAB:!0,playAllType:"album",icon:Xd.albumIcon}},{path:"genre/:genreId",component:Ud,name:"GenreDetails",meta:{showDisplayBar:!0,isAudio:!1,showResume:!1,showGrouping:!1,showFAB:!0,playAllType:"genre",icon:Xd.genreIcon}}]},{path:"/browse",name:"Browse",meta:{showDisplayBar:!0},children:[{path:"",component:ir,name:"BrowseList",meta:{showDisplayBar:!0}},{path:":browseId",component:Cn,name:"BrowseChild",meta:{showDisplayBar:!0,showFAB:!0,playAllType:"browser"}}]},{path:"/playlists",redirect:"/playlists/all",name:"Playlist",children:[{path:"all",component:Gl,name:"PlaylistList",meta:{showDisplayBar:!0}},{path:"playlist/:playlistId",component:Ud,name:"PlaylistDetails",meta:{showDisplayBar:!0,isAudio:!1,showResume:!1,showGrouping:!1,showFAB:!0,playAllType:"playlist",icon:Xd.playlistIcon}}]},{path:"/more",redirect:"/more/all",name:"More",children:[{path:"all",component:ro,name:"More",meta:{showDisplayBar:!0}}]},{path:"/search",component:xr,name:"SearchList",meta:{showDisplayBar:!1}},{path:"/about",component:Nd,name:"About"},{path:"/logs",component:Sn,name:"Logs"},{path:"/login",component:Gr,name:"LoginPage"},{path:"/login/error",component:Gr,name:"LoginPageError",meta:{showError:!0}},{path:"/ssl",component:dd,name:"SslPage"}];var tc,ic=ec,sc=i(5658);async function ac(){const e=await fetch(At.translation).catch((function(){return new Response(JSON.stringify({code:400,message:"{}"}))}));return await e.json()}function lc(){return tc}function oc(){return ac().then((function(e){let t=(0,sc.o)({locale:"default",fallbackLocale:"default",messages:e});return t.global.setLocaleMessage("default",e),tc=t,t}))}i(7635);var nc={install:e=>{const t=je(),i=aa(),s=[];e.config.globalProperties.$getIcons=()=>Xd,e.config.globalProperties.$readableDuration=e=>{const t=Math.floor(e/1e3%60),i=Math.floor(e/6e4%60),s=Math.floor(e/36e5%3600);return`${0==s?"":s+":"}${0==s&&i<10?i:i<10?"0"+i:i}:${t<10?"0"+t:t}`},e.config.globalProperties.$getAppAsset=(e,t,i)=>((t<0||void 0===t)&&(t=24),At.appAsset(e,t,i)),e.config.globalProperties.$getImageUrl=(e,t)=>At.artwork(e.artworkURL,e.id,t),e.config.globalProperties.$download=(e,i,s)=>{s?window.location.href=At.prepareDownload(e.id,i):(t.warning={type:"message",message:lc().global.t("PREPARING_DOWNLOAD")},xa.Z.get(At.prepareDownload(e.id,i)).then((e=>{t.warning=void 0,window.location.href=At.download(e.data)})))},e.config.globalProperties.$favorite=(e,i,s)=>{xa.Z.get(At.favorite(e.id,i,s)).then((()=>{t.needRefresh=!0}))},e.config.globalProperties.$play=(e,i,s,a)=>{"new-stream"==i&&-1==e.id?t.showAddStream=!0:xa.Z.get(At.play(e,i,s,a)).catch((function(e){200!=e.response.status&&(t.warning={type:"warning",message:e.response.data})}))},e.config.globalProperties.$playAll=e=>{let i,s=e.meta.playAllType;switch(s){case"video-group":i=e.params.groupId;break;case"video-folder":i=e.params.folderId;break;case"artist":i=e.params.artistId;break;case"album":i=e.params.albumId;break;case"genre":i=e.params.genreId;break;case"playlist":i=e.params.playlistId;break;default:i=0}let a="browser"==s?e.params.browseId:"";xa.Z.get(At.playAll(s,i,a)).catch((function(e){200!=e.response.status&&(t.warning={type:"warning",message:e.response.data})}))},e.config.globalProperties.$resumePlayback=e=>{xa.Z.get(At.resumePlayback(e)).then((e=>{204==e.status&&(t.warning={type:"warning",message:lc().global.t("NOTHING_RESUME")})}))},e.config.globalProperties.$upload=e=>{const t=new AbortController,a=t=>{const{loaded:s,total:a}=t;let l=Math.floor(100*s/a);i.changeProgress(e,l)};var l=new FormData;l.append("media",e),l.append("filename",e.name),i.changeFileStatus(e,"uploading"),xa.Z.post(`${At.uploadMedia}`,l,{headers:{"Content-Type":"multipart/form-data"},signal:t.signal,onUploadProgress:a}).catch((function(){i.changeFileStatus(e,"error")})).then((t=>{void 0===t?i.changeFileStatus(e,"waiting"):i.changeFileStatus(e,"uploaded")})),s.push({file:e,controller:t})},e.config.globalProperties.$cancelUploadFile=e=>{let t=s.findLast((t=>t.file==e));const i=s.indexOf(t);t.controller.abort(),s.splice(i,1)},window.onbeforeunload=function(){if(null!=i.uploadingFiles.find((e=>"uploading"==e.status)))return""}}},rc=i(6112);const dc={mounted(e){new ms.u(e)}},cc=(0,Ya.p7)({history:(0,Ya.r5)(),routes:ic});cc.beforeEach(((e,t,i)=>{const s=kt();mn.info(`Router: ${t.name} -> ${e.name}`),s.responsivePlayerShowing?(s.playqueueShowing=!1,s.responsivePlayerShowing=!1,i(!1)):i()}));const pc=(0,Ve.WB)();oc().then((function(e){(0,s.ri)(Ha).directive("tooltip",dc).use(e).use(rc.Z).use(cc).use(pc).use(mn).use(nc).mount("#app")}));var uc=cc},1371:function(){},6127:function(){}},t={};function i(s){var a=t[s];if(void 0!==a)return a.exports;var l=t[s]={exports:{}};return e[s](l,l.exports,i),l.exports}i.m=e,function(){i.amdO={}}(),function(){var e=[];i.O=function(t,s,a,l){if(!s){var o=1/0;for(c=0;c<e.length;c++){s=e[c][0],a=e[c][1],l=e[c][2];for(var n=!0,r=0;r<s.length;r++)(!1&l||o>=l)&&Object.keys(i.O).every((function(e){return i.O[e](s[r])}))?s.splice(r--,1):(n=!1,l<o&&(o=l));if(n){e.splice(c--,1);var d=a();void 0!==d&&(t=d)}}return t}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[s,a,l]}}(),function(){i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t}}(),function(){i.d=function(e,t){for(var s in t)i.o(t,s)&&!i.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};i.O.j=function(t){return 0===e[t]};var t=function(t,s){var a,l,o=s[0],n=s[1],r=s[2],d=0;if(o.some((function(t){return 0!==e[t]}))){for(a in n)i.o(n,a)&&(i.m[a]=n[a]);if(r)var c=r(i)}for(t&&t(s);d<o.length;d++)l=o[d],i.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return i.O(c)},s=self["webpackChunkvue_css"]=self["webpackChunkvue_css"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=i.O(void 0,[998],(function(){return i(6800)}));s=i.O(s)})();